import{$ as f,as as g,aL as p,j as e,a0 as b,J as m,M as v,r as j,b5 as N,f as y,b4 as c,b6 as C,T as w,aE as F}from"./index-7fa67d35.js";import{C as S}from"./ChangeProfileStatus-b93d7f47.js";const D=({status:t,data:s,onClick:r})=>{const[d,{open:i,close:a}]=f(!1),x=g(),{mutate:o,isLoading:n}=p(),h=async()=>{o({student_id:s==null?void 0:s.id},{onSuccess(l){x.invalidateQueries({queryKey:["GetAdmittedStudentsInClass"]}),m.show({title:"Notification",message:l.data.message}),a()},onError(l){m.show({title:"Notification",message:v(l)})}})};return e.jsxs(e.Fragment,{children:[e.jsx(b,{radius:10,padding:30,size:"md",opened:d,onClose:a,withCloseButton:!1,centered:!0,children:e.jsx(S,{onContinue:h,isLoading:n,onCancel:a,label:"Student"})}),e.jsx("div",{children:e.jsxs("div",{className:"grid   grid-cols-[450px_1fr_150px] py-3  px-8 border-b-2 border-[#F2F4F7]",children:[e.jsxs("div",{onClick:r,className:"flex items-center justify-start gap-4  cursor-pointer",children:[e.jsx("span",{children:e.jsx("img",{loading:"lazy",src:s==null?void 0:s.image,alt:"image",className:" w-[46px]"})}),e.jsxs("span",{children:[s.firstname," ",s.lastname]})]}),e.jsx("div",{className:"flex justify-start items-center ",children:s.class.class_name}),e.jsxs("div",{className:"flex justify-end  gap-4  items-center",children:[e.jsx("button",{disabled:t!=="active",onClick:()=>{t==="active"&&i()},className:"text-[#7E7E89] font-semibold font-Hanken  ",children:e.jsx("span",{children:t==="active"?"Disable":"Disabled"})}),e.jsx("button",{disabled:t!=="active",onClick:r,className:" text-[#8530C1] font-Inter",children:"View"})]})]})})]})},A=()=>{const[t,s]=j.useState("active"),[r,d]=j.useState(1),{data:i,isLoading:a,refetch:x}=N(t,r.toString()),o=Math.ceil((i==null?void 0:i.data.data.totalRecord)/10),n=i==null?void 0:i.data.data.records,h=y();return e.jsxs("div",{className:"h-[100%] flex flex-col overflow-y-scroll ",children:[e.jsxs("div",{className:" flex-grow flex flex-col  rounded-3xl py-4 bg-white border-[2px] border-[#F2EAF1] ",children:[e.jsxs("div",{className:"grid grid-cols-2 justify-center items-center w-full px-8 ",children:[e.jsx("div",{children:e.jsxs("h1",{className:"text-[25px] font-Inter",children:["Students"," ",e.jsx("span",{className:"text-[#8530C1] bg-[#FFF7FD] rounded-3xl py-1 px-4",children:(n==null?void 0:n.length)||0})]})}),e.jsx("div",{className:"flex gap-2 justify-end ",children:e.jsxs(c,{children:[e.jsx(c.Target,{children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{children:"Sort by"}),e.jsx("img",{loading:"lazy",src:C,alt:"Arrowdown"})]})}),e.jsxs(c.Dropdown,{children:[e.jsx(c.Item,{children:e.jsx("button",{onClick:()=>{s("active")},children:"Active"})}),e.jsx(c.Item,{children:e.jsx("button",{onClick:()=>{s("disabled")},children:"Disabled"})})]})]})})]}),e.jsxs("div",{className:"grid  grid-cols-[450px_1fr_150px] mt-5 font-normal  px-8 text-[#7E7E89]  py-4 border-b-2 bg-[#FFF7FD] border-[#F3DAFF]",children:[e.jsx("div",{className:" ",children:"Name"}),e.jsx("div",{className:"",children:"Class"}),e.jsx("div",{className:"flex justify-end   items-center",children:e.jsx("span",{})})]}),e.jsx("div",{className:"flex flex-col flex-grow",children:a?new Array(8).fill(1).map(l=>e.jsx(w,{height:60,my:10,visible:!0,children:e.jsx("h1",{className:"w-full",children:l})})):n==null?void 0:n.map((l,u)=>e.jsx(D,{status:t,onClick:()=>h("profile/"+(l==null?void 0:l.id)),data:l},u))}),e.jsx("div",{className:"flex  justify-end mt-4 px-4",children:o>1&&e.jsx("div",{className:"px-10  mr-2 flex justify-end  ",children:e.jsx(F,{total:o,value:r,defaultChecked:!0,onChange:d,onClick:()=>{x()},styles:()=>({control:{"&[data-active]":{backgroundColor:"#8530C1 !important"}}})})})})]}),e.jsx("style",{children:`
       ::-webkit-scrollbar {
  width: 0;
  background: transparent;
}
        `})]})};export{A as default};
