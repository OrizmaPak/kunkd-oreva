import{j as e,b7 as B,D as w,b8 as $,b9 as R,E as U,H as A,B as L,L as T,J as k,M as K,a as G,g as O,f as V,$ as W,r as c,ar as H,a0 as Z,K as M,O as q,R as _,ba as P,bb as X,bc as I}from"./index-7fa67d35.js";const J=({color:t="#667185"})=>e.jsx("div",{children:e.jsx("svg",{width:"20",height:"18",viewBox:"0 0 20 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.9121 0.987571C10.7644 0.184157 9.23674 0.184155 8.08901 0.987569L2.3577 4.99949C1.39218 5.67535 0.855329 6.81083 0.94572 7.98592L1.53324 15.6236C1.64404 17.0641 2.94921 18.1111 4.37943 17.9068L7.02077 17.5294C8.25239 17.3535 9.16722 16.2987 9.16722 15.0545V14C9.16722 13.5398 9.54031 13.1667 10.0006 13.1667C10.4608 13.1667 10.8339 13.5398 10.8339 14V15.0545C10.8339 16.2987 11.7487 17.3535 12.9803 17.5294L15.6217 17.9068C17.0519 18.1111 18.3571 17.0641 18.4679 15.6236L19.0554 7.98592C19.1458 6.81083 18.6089 5.67535 17.6434 4.99949L11.9121 0.987571ZM9.04478 2.35296C9.61865 1.95125 10.3825 1.95125 10.9563 2.35296L16.6876 6.36488C17.1704 6.70281 17.4388 7.27055 17.3936 7.85809L16.8061 15.4958C16.7692 15.976 16.3341 16.3249 15.8574 16.2568L13.216 15.8795C12.8055 15.8209 12.5006 15.4693 12.5006 15.0545V14C12.5006 12.6193 11.3813 11.5 10.0006 11.5C8.61984 11.5 7.50055 12.6193 7.50055 14V15.0545C7.50055 15.4693 7.19561 15.8209 6.78507 15.8795L4.14372 16.2568C3.66699 16.3249 3.23193 15.976 3.19499 15.4958L2.60748 7.85809C2.56228 7.27055 2.83071 6.70281 3.31347 6.36488L9.04478 2.35296Z",fill:t})})}),Q=({color:t="#667185"})=>e.jsx("div",{children:e.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z",fill:"none",stroke:t,strokeWidth:"2"})})}),Y=({color:t="#667185"})=>e.jsx("div",{children:e.jsx("svg",{width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.33333 0.666664C6.41286 0.666664 5.66667 1.41286 5.66667 2.33333V5.66666H2.33333C1.41286 5.66666 0.666666 6.41286 0.666666 7.33333V10.6667C0.666666 11.5871 1.41286 12.3333 2.33333 12.3333H5.66667V15.6667C5.66667 16.5871 6.41286 17.3333 7.33333 17.3333H10.6667C11.5871 17.3333 12.3333 16.5871 12.3333 15.6667V12.3333H15.6667C16.5871 12.3333 17.3333 11.5871 17.3333 10.6667V7.33333C17.3333 6.41286 16.5871 5.66666 15.6667 5.66666H12.3333V2.33333C12.3333 1.41286 11.5871 0.666664 10.6667 0.666664H7.33333ZM5.66667 7.33333C6.58714 7.33333 7.33333 6.58714 7.33333 5.66666V2.33333H10.6667V5.66666C10.6667 6.58714 11.4129 7.33333 12.3333 7.33333H15.6667V10.6667H12.3333C11.4129 10.6667 10.6667 11.4129 10.6667 12.3333V15.6667H7.33333V12.3333C7.33333 11.4129 6.58714 10.6667 5.66667 10.6667H2.33333V7.33333H5.66667Z",fill:t})})}),ee=({color:t="#667185"})=>e.jsx("div",{children:e.jsx("svg",{width:"18",height:"16",viewBox:"0 0 18 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M9 14.3707C7.87417 13.5782 6.57083 13.0732 5.20417 12.9032C4.23487 12.7062 3.24735 12.6132 2.25833 12.6257C2.13178 12.6268 2.00627 12.6028 1.88903 12.5551C1.7718 12.5074 1.66517 12.437 1.5753 12.3479C1.48542 12.2588 1.41408 12.1528 1.3654 12.036C1.31672 11.9192 1.29166 11.7939 1.29167 11.6673L1.30917 2.58982C1.30863 2.34626 1.40086 2.11163 1.56711 1.93362C1.73335 1.75561 1.96113 1.64758 2.20417 1.63149C3.21095 1.61147 4.21691 1.70145 5.20417 1.89982C6.56935 2.07595 7.87167 2.57972 9 3.36815M9 14.3707V3.36815M9 14.3707C10.1258 13.5782 11.4292 13.0732 12.7958 12.9032C13.7651 12.7062 14.7527 12.6132 15.7417 12.6257C15.8682 12.6268 15.9937 12.6028 16.111 12.5551C16.2282 12.5074 16.3348 12.437 16.4247 12.3479C16.5146 12.2588 16.5859 12.1528 16.6346 12.036C16.6833 11.9192 16.7083 11.7939 16.7083 11.6673L16.69 2.58982C16.6905 2.34639 16.5984 2.11188 16.4324 1.93389C16.2663 1.7559 16.0387 1.64778 15.7958 1.63149C14.789 1.61147 13.7831 1.70145 12.7958 1.89982C11.4306 2.07595 10.1283 2.57972 9 3.36815",stroke:t,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})});function z(t){return B({tag:"svg",attr:{version:"1.1",viewBox:"0 0 17 17"},child:[{tag:"g",attr:{},child:[]},{tag:"path",attr:{d:"M0 2v13h17v-13h-17zM8.494 9.817l-6.896-6.817h13.82l-6.924 6.817zM5.755 8.516l-4.755 4.682v-9.383l4.755 4.701zM6.466 9.219l2.026 2.003 1.996-1.966 4.8 4.744h-13.677l4.855-4.781zM11.201 8.555l4.799-4.725v9.467l-4.799-4.742z"}}]})(t)}const se=({close:t})=>{var x,C,v;const h=w.object({subjectId:w.string().min(1,{message:"Subject is invalid"}),body:w.string().min(1,{message:"Body of messeage is empty"})}),{data:r}=$(),i=(x=r==null?void 0:r.data)==null?void 0:x.data,{mutate:l,isLoading:g}=R(),{register:u,handleSubmit:a,formState:{errors:n}}=U({resolver:A(h)}),p=async o=>{console.log("matthew "),console.log("data",o),l({category_id:Number(o==null?void 0:o.subjectId),content:(o==null?void 0:o.body)||""},{onSuccess(m){t(),k.show({title:"Notification",message:m.data.message})},onError(m){t(),k.show({title:"Notification",message:K(m)})}})};return e.jsxs("div",{className:"h-[481px]",children:[e.jsx("div",{children:e.jsx("p",{className:" bg-customGreen font-InterReg text-[18px] px-[20px] py-[12px] text-white ",children:"Contact Us"})}),e.jsx("div",{children:e.jsx("div",{className:" px-8 mt-7",children:e.jsxs("form",{onSubmit:a(p),children:[e.jsxs("div",{className:"mt-4",children:[e.jsx("p",{className:`p-3 mb-2 rounded-full flex items-center gap-2 h-[44px] ${n!=null&&n.subjectId?"border-red-700 border-[1px]":"bg-[#F1F1F1]"}`,children:e.jsxs("select",{...u("subjectId"),name:"subjectId",id:"subjectId",className:"w-full bg-[#F1F1F1] h-full focus-within:outline-none bg-inherit",children:[e.jsx("option",{value:"",children:"Select Category"}),i==null?void 0:i.map(o=>e.jsx("option",{value:o.id,children:o.name},o.id))]})}),e.jsx("span",{className:"text-red-600 mb-10",children:(C=n==null?void 0:n.subjectId)==null?void 0:C.message})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx("textarea",{...u("body"),name:"body",id:"body",placeholder:"Message",className:"w-full h-[250px] bg-[#F1F1F1] rounded-2xl p-4 focus:outline-none"}),e.jsx("span",{className:"text-red-600 mb-10",children:(v=n==null?void 0:n.body)==null?void 0:v.message})]}),e.jsxs("p",{className:"my-5 flex gap-5 justify-center",children:[e.jsx(L,{size:"sm",onClick:t,className:"text-black bg-[#F1F1F1] rounded-full px-[40px]",children:"Close"}),e.jsx(L,{size:"sm",type:"submit",backgroundColor:"green",className:"rounded-full px-[20px]",children:g?e.jsx("p",{className:"flex justify-center items-center",children:e.jsx(T,{color:"#BCD678",size:"sm"})}):e.jsx("span",{className:"flex gap-3 items-center",children:"Send message"})})]})]})})})]})},d="/schooldashboard",te=[{label:"Dashboard",route:d,href:"dashboard",index:!0,icon:J,role:["schoolAdmin","teacher"]},{label:"Connection Requests",href:"request",route:d+"/request/",icon:Y,role:["schoolAdmin","teacher"]},{label:"Classes",href:"classes",route:d+"/classes",icon:P,role:["schoolAdmin"]},{label:"Teachers",route:d+"/teacher",href:"teacher",index:!0,icon:X,role:["schoolAdmin"]},{label:"Students",href:"students",route:d+"/students/*",icon:I,hasSub:!0,role:["schoolAdmin","teacher"]},{label:"Content Library",href:"content",route:d+"/content/*",icon:ee,hasSub:!0,role:["schoolAdmin","teacher","user"]},{label:"Favourites",href:"favourites?tab=0",route:d+"/favourites/*",icon:Q,hasSub:!0,role:["user"]},{label:"Progress Report",href:"progress",route:d+"/progress/",icon:I,hasSub:!0,role:["user"]}],F=264,oe=100,ne=()=>{const[t]=G(O),h=V(),[r,{open:i,close:l}]=W(!1),[g,u]=c.useState(String(sessionStorage.getItem("profileId")||"0"));c.useEffect(()=>{const s=f=>{const j=f.detail,b=String((j==null?void 0:j.profileId)??Date.now());u(b)};return window.addEventListener("profile:changed",s),()=>window.removeEventListener("profile:changed",s)},[]);const[a,n]=c.useState(()=>{const s=localStorage.getItem("kk.sidebarDocked");return s===null?!0:s==="true"}),[p,x]=c.useState(!1);c.useEffect(()=>{const s=()=>n(f=>!f);return window.addEventListener("sidebar:dockToggle",s),()=>window.removeEventListener("sidebar:dockToggle",s)},[]),c.useEffect(()=>{localStorage.setItem("kk.sidebarDocked",String(a)),window.dispatchEvent(new CustomEvent("sidebar:state",{detail:{docked:a}}))},[a]);const C=(t==null?void 0:t.role)||"user",v=te.filter(s=>s.role.includes(C)),[o,m]=c.useState(!0);c.useEffect(()=>{const s=localStorage.getItem("kk.sidebarDocked")!=="false";m(s);const f=j=>{const b=j.detail;typeof(b==null?void 0:b.docked)=="boolean"&&m(b.docked)};return window.addEventListener("sidebar:state",f),()=>window.removeEventListener("sidebar:state",f)},[]);const N=()=>{window.dispatchEvent(new CustomEvent("sidebar:dockToggle"))},E=()=>{h("/schooldashboard/contact-us")},S=H("/schooldashboard/contact-us");return e.jsxs("div",{className:"min-h-screen flex flex-col",children:[e.jsx(Z,{radius:20,padding:0,size:450,opened:r,onClose:l,withCloseButton:!1,centered:!0,children:e.jsx(se,{close:l})}),e.jsx("style",{children:`
        @media (prefers-reduced-motion: no-preference) {
          .w-smooth { transition: width .4s cubic-bezier(.2,.8,.2,1); }
          .ml-smooth { transition: margin-left .4s cubic-bezier(.2,.8,.2,1); }
          .fade { transition: opacity .25s ease, visibility .25s ease; }
          .slide-x { transition: transform .35s cubic-bezier(.2,.8,.2,1); will-change: transform; }
        }
      `}),e.jsx("div",{className:"flex-1 overflow-hidden",children:e.jsx("div",{className:"w-full h-[92vh] overflow-hidden bg-[#F6F7FB]",children:e.jsxs("div",{className:"relative w-full h-full flex",children:[e.jsxs("aside",{className:"relative bg-white h-full pt-6 flex flex-col pb-4 border-r border-[#E4E7EC] w-smooth",style:{width:a?F:oe},onMouseEnter:()=>!a&&x(!0),onMouseLeave:()=>!a&&x(!1),children:[e.jsxs("button",{"aria-label":o?"Collapse sidebar":"Expand sidebar",onClick:N,className:"relative inline-flex items-center ml-8 justify-center rounded-md border border-[#E4E7EC] bg-white h-10 w-10 hover:bg-gray-50 transition",children:[e.jsx("span",{className:`absolute h-[2px] w-5 bg-[#101928] transition
                ${o?"translate-y-[6px] rotate-45":"-translate-y-[6px]"}
              `}),e.jsx("span",{className:`absolute h-[2px] w-5 bg-[#101928] transition
                ${o?"opacity-0":"opacity-100"}
              `}),e.jsx("span",{className:`absolute h-[2px] w-5 bg-[#101928] transition
                ${o?"-translate-y-[-6px] -rotate-45":"translate-y-[6px]"}
              `})]}),e.jsx("nav",{className:"flex-1 overflow-y-auto overflow-x-hidden px-2 ",children:v.map(s=>e.jsx(D,{title:s.label,href:s.href||"",route:s.route||"",icon:e.jsx(s.icon,{}),collapsed:!a},s.label))}),e.jsx("div",{className:"px-2",children:e.jsx(y,{title:"Contact Us",icon:e.jsx(z,{size:20}),onClick:E,active:!!S,collapsed:!a})}),e.jsx("div",{className:`flex ${p?"px-4":"justify-center"} items-center mb-2 mt-4 px-1`,children:e.jsx("img",{src:M,alt:"",className:"h-6"})})]}),!a&&e.jsx("div",{className:`pointer-events-none absolute inset-y-0 left-0 z-30 ${p?"opacity-100 visible":"opacity-0 invisible"} fade`,children:e.jsxs("div",{className:"pointer-events-auto bg-white h-full pt-6 flex flex-col pb-4 border-r border-[#E4E7EC] shadow-2xl slide-x !z-[1000000] relative",style:{width:F,transform:p?"translateX(0)":"translateX(-20px)"},onMouseEnter:()=>x(!0),onMouseLeave:()=>x(!1),children:[e.jsxs("nav",{className:"flex-1 overflow-y-auto px-3 !z-[1000000] relative",children:[e.jsxs("button",{"aria-label":o?"Collapse sidebar":"Expand sidebar",onClick:N,className:"relative inline-flex items-center mx-auto justify-center rounded-md border border-[#E4E7EC] bg-white h-10 w-10 hover:bg-gray-50 transition",children:[e.jsx("span",{className:`absolute h-[2px] w-5 bg-[#101928] transition
                      ${o?"translate-y-[6px] rotate-45":"-translate-y-[6px]"}
                    `}),e.jsx("span",{className:`absolute h-[2px] w-5 bg-[#101928] transition
                      ${o?"opacity-0":"opacity-100"}
                    `}),e.jsx("span",{className:`absolute h-[2px] w-5 bg-[#101928] transition
                      ${o?"-translate-y-[-6px] -rotate-45":"translate-y-[6px]"}
                    `})]}),v.map(s=>e.jsx(D,{title:s.label,href:s.href||"",route:s.route||"",icon:e.jsx(s.icon,{}),collapsed:!1},s.label))]}),e.jsx("div",{className:"px-3 relative z-100",children:e.jsx(y,{title:"Contact Us",icon:e.jsx(z,{size:20}),onClick:E,active:!!S,collapsed:!1})}),e.jsx("div",{className:`flex ${p?"px-4":"justify-center"} items-center mb-2 mt-4 px-2`,children:e.jsx("img",{src:M,alt:"",className:"h-6"})})]})}),e.jsx("div",{className:"flex-1 bg-[#f5f6fb] ml-smooth",style:{marginLeft:0},children:e.jsx("div",{className:"px-8 pt-6 h-full overflow-hidden overflow-y-auto",children:e.jsx(q,{})})})]})})},`profile-scope-${g}`)]})},y=({title:t,icon:h,onClick:r,active:i=!1,collapsed:l=!1})=>e.jsxs("button",{onClick:r,className:`transition-all duration-200 px-2 py-3 text-[#101928] rounded-[8px] flex items-center ${l?"justify-center":"justify-start"} gap-3 w-full text-[14px] ${i?"bg-customGreen":"hover:bg-customGreen"} my-2 relative group`,style:{fontFamily:"Inter",fontWeight:400,fontStyle:"Regular",fontSize:"14px",lineHeight:"145%",letterSpacing:"0%"},children:[e.jsxs("span",{className:"flex-shrink-0",children:[" ",h," "]}),!l&&e.jsx("span",{className:"text-[15px] font-normal",children:t}),l&&e.jsx("span",{className:"pointer-events-none absolute left-[70px] top-1/2 -translate-y-1/2 bg-[#101928] text-white text-xs py-1 px-2 rounded-md opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap shadow-md",children:t})]}),D=t=>{const{icon:h,title:r,href:i,route:l,collapsed:g}=t,u=H(l),a=V(),n=()=>{a(i)};return e.jsx(y,{onClick:n,title:r,collapsed:g,icon:_.cloneElement(h,{color:u?"#101928":"#667185"}),active:!!u})};export{ne as default};
