import{aM as v,bj as R,aR as S,aS as C,j as e,bk as B,f as y,a as I,g as Q,N as U,m as D,bl as E,aU as M,B as F,T as k,Y as h,bm as j,bn as f,bo as K,r as X,bh as z,bi as O}from"./index-7fa67d35.js";const V="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA9CAYAAADxoArXAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAM5SURBVHgB7Zs7bBNBEIb/3XMc8oIkUqQgIeKKAgmwO6IIodRJQVpooDRVWqokFZTQ0JIGWihIDQgil5gE0QUcRIGEBMGKgdi3t+ysL5FjOSY2e29/0urO9yj+m7mZ2fUNQxt214eyafCshMwgAjCwUhVOcXimUjz6mhbUCsNLkGxRnR1FBJFACY6zkp6prDafOyRYFkYzNnOeQsosYgAJF6jNDkz/Ke0fOxCsxUrxNqpWPQrX2gtp1821YBIr4LyIyrvaKSS674SVY7mdHU4HalIsx1UsoayasX+LR3pfuzLEJyQBW87ymrQXkRCkhWucMVxCQlCufZWrfBuLFHQ8WIbHLQ21RWnlSBg9wXGnJzjuBCKYn84jdbkM6/wa2MR1oP8s/CKFAGBj8/XtySuw1CDkrw3I8hvI78/11isCEdwKNnhRD0zehtzbrov/4Yq3f8IUoRHcCOufUq4+BUzc0L9l+TWcrw+V9dfwv4RScDPk+lw9BGFAcC9Kx52e4LgTqOD93OsnwUbpyibEVh4sdQqgSDw2pyOyl5VXKNKSpMJCVVhCDUKnofE5/RDY4IX6RYaKj1DmYSo0hBoEU9amByArGzBB6AsPufcZ8ttjmMJTwdod6f0EBahNozVxt3gimE+qQHTmjgpGh9cHtauqIBUkZgUra1rnntQjbQvoeCr3XgWpHQSF0TzMp+4dKbaRZsv7iTHBtHLB3elcmDEmmI/PIwqYs/DIv105DJh7h9300wlS+J+mzAnuJsfaERZMM5+O7/F5pkQYE+x8udvR9aCS0a2X/cSchd015eMSVMVltPAQH/PHspqzlQ/EuoTZFQ8VhMSHOS2IXLYZ8gKxMQPH4OynU1itMCLhEfqfBEpXFI2r2/WJfsB4Oj3sJnJ7TW/VMu70BMedBAqWCG69xW+UVg4uS0gIquB4x6WDV0gMskhf0z5DQhDMvs/7pndfKlvHXrRy51Vq9tBROjVg3aKeH8QUt7tlhfa1YGp+cByxEEvRKjI3tvIc5GFqc7HAZ2MlmrGizWq5ln1LjVQLIzc52FJkO12otmDsQd90ebn5FGt3X3V9KMsZz4iIdKrVvdMpptv0Hv4F7VQzINVyIf8AAAAASUVORK5CYII=",W="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA9CAYAAADxoArXAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAANdSURBVHgB7ZtBSBRRGMf/MxVuUOweAklDF4QWAnWjrEsle/CURkKHcDvUQRK6dKiT1GogXSTqECQKebCuRdYpYRM7mdRolxSqWUFLKNjNDprtbO97uytmuyYzb5eZN/OD5b2d2V32P9/3vu97w3wKtqAvHA+zIWwAQTgAFdDZoHVrEa3YZ5RCB/vC4zE2XGWvAJyJnobRe1OLDG8+8Zfg2+F40ID6hE3DkAN9DUakR4vo+QPrgnNi38G5Vi2GDhjteTfngklsBmo845C1agKy9GFm6aRK79JAj8RiieAu7HhIEyXnyp/hAgy2nlUjG43dwlk1A6URLkGF2qwqUGRJQdshSEFLtjS0FQEVLsMTLDueYNnxBMuOJ1h2dkIg/v0VMEPqyyrKhRDBTR3VONlVC99ecz+XXFzBzLOveD0wj1JjWXD9mUq0XK/j89SiOUsFqnw41RXk338/uoRSYllwQ1slH1/2f8SbRwswQ8u1OjRFq9HALl4hwRXMc5o6qrgHjfV/ghUsB61A1W4+JqZSMMvk44Xcb/n+Oednx6KDDdwDjkUPmI4TeYQFrdUfaxCN1dhQCKFRWhTkwufuHELt0exWfZItlVBkH7O2NesSthNcc8SP1lsh7t6ry78xGpvFXPw7FywCWwmm9XphKHuLbZ7FhNHYB9ORvxi2dGkrEf9/2K60pCJkLv4NpcJ2gmntXnlxHCcu16AU2Epwill3YiDB55R3Kf+KiMwbsZ2FJx4kMNI5zcVTWooONqI+V82JwJbbQ4rQI50zbEOxxF28jaUpUZa27X6YLPyc5eAxFrEpH4vCsuCV5WxJ6a/2wSz5+nilgDCqsobOv+UXgL8s7p0t52GqgipDe9DaG8LS7E9T1jiYq6JmimwNSej905MQgWXBFFWpuKftXaHdznah3FuqYmMjSl94PAMBUET1mxRMFkxMJVEOhJWW5frDVvFu08qOJ1h2PMGy4wmWHU+w7JBgZ9SEYuCPD+twD9NMsDEOl2DA0Ojx4adwCWngrnpDi7xSoLhAtDJMzR48Sv9C+pIi91rW15DupQkXTM0PGRjtkopObmzlWc/D1OaisBOSidZy3Sx6/kCRzrT4RQVqzMGdLlRb3OvWmns2n1C2+hb1Hub6Dh3RJrCd3sM/sYIeDwdNI/QAAAAASUVORK5CYII=",Y="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA9CAYAAADxoArXAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAALSSURBVHgB7ZtPSBRRHMe/v+fugsYukoSHgrZDINvBDTToJNZJpNJDIYH9u9VBPATeUg/eCqqDV4UgBIWtg0UHzc4aTRCb5MGJKJIIRKnA3ZnX/AbbSnYjmN/C7pv5wM7O7gzLfOb357FveIR/cHT+fDYOZOFSGvWA0nYBsNZ6Z61Kp1C5LzPzF0ZJ07C324w6RAM2XHc8f3Z2eu+xv4Tbng6klePmCJSFAbC4W6Du1f4Z+9d3JWGWbXD0K9RpVCvhR5vc/vxumive+JF19XMYJst4EU1Dq1w21+e7+cLkuGOkvQOGwtI7icSUv7+byusIAY6mbqWKehghQcHpU0RoR0ggUl1cw0YMQf+HTrOwcZ25MtSsEDIiYdMJnXAMwiRjTWhLpXGw8QCkWN2ysbr9HhKICp9q7cBE+w0k402Q5uSza9gufkdQxIQ792dwv+MmqkUyvq+2hEeOXfbf+aIm381hYWMZQTnd2omRzCVIIiLMd78tddjff/xhCQ/Wn0CC7cI3SCPSpVOx3zX7dkumuVSLaBw2nUjYdCJh04mETScSNp1I2HQiYdOJJvGCcu5QFwbTPUh5kwJBSQr8xl7EhU+0ZFDLiAszy1/z+PjjC4LCU72dwjdQXHhxYwVDK7chQZ9XHtLC4k1r4XPw2cpqIi4s+cShGoikNNcr1y2n3+CRntLnoNR0l55cm8NUyy3/Iifar6NWEUtpjujQyzv4JNCdyyE1KS/apRe9hsUvTm3JWuYSkXiuxFRtHK7VXh39eTCdSNh0WHgToUFvsrCNkKA1Xitv8wKhQVtKgR4hJCSKDXfVmzMzS5oQBulpq3/G9rt0YqfxKsjoWrbjBRrnndKqlsz8xSzBycGwtQ+e4GasQMet3aU8pXE43/vQiivqNivS2vpTlqmwMm3gCkGP1mu0OarQdM/rT2NljlWG07zBKaYdqpNlAkrZ3sbibK10yk8w6N3AK9ip3QAAAABJRU5ErkJggg==";v.register(R,S,C);const L=s=>({datasets:[{data:s[0]>1||s[1]>1||s[2]>1?s:[1,1,1],backgroundColor:["rgba(43, 180, 87, 1)","rgba(133, 48, 193, 1)","rgba(251, 199, 13, 1)"],borderWidth:1}]});function J({data:s}){return e.jsx(B,{data:L(s)})}const q=({stories:s,africanLanguages:l,audioBooks:i})=>e.jsx("div",{children:e.jsxs("div",{className:"flex justify-around  pad-x-40",children:[e.jsx("div",{className:" chart-w  shadow-lg rounded-full p-2",children:e.jsx(J,{data:[s,l,i]})}),e.jsxs("div",{className:" flex  justify-between gap-4 items-center  ",children:[e.jsxs("button",{className:"p-4  flex flex-col gap-4 border-2 border-[#FBECFF] rounded-3xl  chart-icon-container my-4 ",children:[e.jsx("img",{loading:"lazy",src:Y,alt:"bookicon",className:"chart-icon"}),e.jsxs("p",{className:"flex flex-col my-2",children:[e.jsx("span",{className:"text-start  text-[24px] font-semibold",children:s||0}),e.jsx("span",{className:"text-[#B5B5C3] text-[14px]",children:"Stories"})]})]}),e.jsxs("button",{className:"p-4 flex  gap-4 flex-col  border-2 border-[#FBECFF] rounded-3xl chart-icon-container my-4",children:[e.jsx("img",{loading:"lazy",src:V,alt:"musicicon",className:"chart-icon"}),e.jsxs("p",{className:"flex flex-col my-2",children:[e.jsx("span",{className:" text-start text-[24px] font-semibold",children:i||0}),e.jsx("span",{className:"text-[#B5B5C3] text-[14px]",children:"Audiobooks"})]})]}),e.jsxs("button",{className:"p-4 flex flex-col gap-4  border-2 border-[#FBECFF] rounded-3xl chart-icon-container  my-4",children:[e.jsx("img",{loading:"lazy",src:W,alt:"videoicon",className:"chart-icon"}),e.jsxs("p",{className:"flex flex-col my-2",children:[e.jsx("span",{className:"text-start  text-[24px] font-semibold",children:l||0}),e.jsx("span",{className:"text-[#B5B5C3] text-[14px]",children:"African Languages"})]})]})]})]})});const b=({data:s})=>{var n,d,A,a;const l=(n=s==null?void 0:s.pages)==null?void 0:n.length,i=s==null?void 0:s.pages_read,r=l>0?Math.ceil(100/l*(i||0)):0,x=y(),[t]=I(Q);return t?e.jsxs("div",{onClick:()=>{var u,g,p,m,c,o,N,w;sessionStorage.setItem("contentId",(u=s==null?void 0:s.id)==null?void 0:u.toString()),sessionStorage.setItem("continuePage",s!=null&&s.pages_read?(g=s==null?void 0:s.pages_read)==null?void 0:g.toString():s!=null&&s.timespent?(p=s==null?void 0:s.timespent)==null?void 0:p.toString():"1"),s.category==="Stories"?x(`../${t.role==="user"?"parent":"school"}/${(m=s.category)==null?void 0:m.toLowerCase()}/sub/${(c=s.slug)==null?void 0:c.toLocaleLowerCase().replace(/\s/g,"-")}`):s.category==="Audiobooks"?x(`/${t.role==="user"?"parent":"school"}/${(o=s.category)==null?void 0:o.toLowerCase()}/${(N=s.slug)==null?void 0:N.toLocaleLowerCase().replace(/\s/g,"-")}/${(w=s.slug)==null?void 0:w.toLocaleLowerCase().replace(/\s/g,"-")}`):s.category==="Languages"&&x(`../${t.role==="user"?"parent":"school"}/languages/${s.slug}/${s.name}`)},className:"flex progress-card-w h-[160px]  bg-[#fffbff]  border-[#FBECFF] border-2  rounded-xl cursor-pointer",children:[e.jsx("div",{className:" basis-1/2",children:e.jsx(D.LazyLoadImage,{src:s==null?void 0:s.thumbnail,placeholderSrc:E,effect:"blur",className:" rounded-xl object-cover h-full sss  progress-card-img",wrapperClassName:" object-cover h-full rounded-xl  progress-card-img"})}),e.jsxs("div",{className:"basis- basis-1/2 px-3 ",children:[e.jsx("h1",{className:" font-Hanken font-bold text3 leading-5 mt-4",children:s==null?void 0:s.name}),e.jsxs("div",{className:" w-full",children:[s.status==="ongoing"&&e.jsxs("div",{className:"flex justify-center  items-center gap-4 ",children:[e.jsxs("span",{className:"mt-2",children:[r||60,"%"]}),e.jsx("span",{className:"  flex-grow",children:e.jsx(M,{value:r||60,color:r&&r<20?"red":r&&r<50?"yellow":"green"})})]}),(s==null?void 0:s.status)==="complete"&&((d=s==null?void 0:s.quiz_result)==null?void 0:d.status)&&e.jsxs("div",{className:"flex justify-center  gap-4 flex-col ",children:[e.jsxs("p",{className:"text3 mt-2  ",children:["Quiz score: ",(A=s==null?void 0:s.quiz_result)==null?void 0:A.result]}),e.jsx(F,{size:"sm",className:"py-2",children:e.jsx("span",{className:"text3",children:"Completed"})})]}),(s==null?void 0:s.status)==="complete"&&!((a=s==null?void 0:s.quiz_result)!=null&&a.status)&&e.jsx("div",{className:"flex justify-center  gap-4 flex-col ",children:e.jsx("button",{className:"text3  bg-red-600 rounded p-2 mt-2 text-white",children:"Quiz not done"})})]})]})]}):e.jsx(U,{to:"/",replace:!0})},H=({data:s,isLoading:l})=>e.jsx("div",{children:e.jsx("div",{className:"py-8 grid grid-cols-3 gap-y-10 gap-x-14",children:l?Array(9).fill(9).map((i,r)=>e.jsx(k,{visible:!0,children:e.jsx("div",{className:"h-[160px] text-transparent",children:i},r)})):s&&s.map((i,r)=>e.jsx(b,{data:i},r))})}),G=({active:s,onClick:l})=>e.jsxs("div",{className:"rounded-full w-[85%] flex   mx-auto   bg-[#F9F9F9]  my-16",children:[e.jsx("button",{onClick:()=>{l(h)},className:` transition-all duration-300 ${s===h?"bg-[#8530C1] text-white ":""} flex-grow p-4 rounded-full`,children:"All"}),e.jsx("button",{onClick:()=>{l(j)},className:`transition-all duration-300 ${s===j?"bg-[#8530C1]  text-white ":""} flex-grow p-4 rounded-full`,children:"Ongoing"}),e.jsx("button",{onClick:()=>l(f),className:` transition-all duration-300 ${s===f?"bg-[#8530C1]  text-white ":""} flex-grow p-4 rounded-full`,children:"Completed"})]}),T=({data:s})=>e.jsx("div",{children:e.jsx("div",{className:"py-8 grid grid-cols-3 gap-y-10 gap-x-14",children:s&&s.map((l,i)=>e.jsx(b,{data:l},i))})}),Z=({data:s})=>e.jsx("div",{children:e.jsx("div",{className:"py-8 grid grid-cols-3 gap-y-10 gap-x-14",children:s&&s.map((l,i)=>e.jsx(b,{data:l},i))})}),_=()=>{var A,a,u,g,p,m;const s=sessionStorage.getItem("profileId"),{data:l,isLoading:i}=K(Number(s)||0),r=(A=l==null?void 0:l.data)==null?void 0:A.data,x=(a=r==null?void 0:r.records)==null?void 0:a.filter(c=>{var o;return(c==null?void 0:c.status)==="ongoing"||(c==null?void 0:c.status)==="complete"&&((o=c==null?void 0:c.quiz_result)==null?void 0:o.status)===!1}),t=(u=r==null?void 0:r.records)==null?void 0:u.filter(c=>{var o;return(c==null?void 0:c.status)==="complete"&&((o=c==null?void 0:c.quiz_result)==null?void 0:o.status)}),[n,d]=X.useState(h);return e.jsx("div",{children:e.jsx(z,{children:e.jsx(O,{children:e.jsxs("div",{className:"min-h-[calc(100vh-80px-8vh)]",children:[e.jsx("div",{className:"flex justify-between items-center py-7 px-20",children:e.jsx("h1",{className:"font-semibold font-Recoleta text30",children:"Progress Report"})}),e.jsx("hr",{className:"mx-20  mb-5"}),e.jsx("div",{className:"pt-5 pb-1 pad-x-40 ",children:e.jsx(q,{stories:(g=r==null?void 0:r.category_count)==null?void 0:g.story_count,africanLanguages:(p=r==null?void 0:r.category_count)==null?void 0:p.language_count,audioBooks:(m=r==null?void 0:r.category_count)==null?void 0:m.audiobook_count})}),e.jsx("div",{children:e.jsx(G,{onClick:d,active:n})}),e.jsxs("div",{className:"px-20",children:[n===h&&e.jsx(H,{data:r==null?void 0:r.records,isLoading:i}),n===j&&e.jsx(T,{data:x}),n===f&&e.jsx(Z,{data:t})]})]})})})})};export{_ as default};
