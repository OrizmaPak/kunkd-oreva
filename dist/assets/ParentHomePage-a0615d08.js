import{j as e,i as O,D as B,as as J,bK as M,r as i,a as z,y as H,cb as A,c9 as F,ca as G,cc as _,E as D,H as R,cd as q,L,ce as T,B as Q,J as I,M as W,bS as $,g as V,b as K,f as X,$ as k,e as Y,N as Z,a0 as P,cf as ee,cg as se,bh as te,bi as ae,O as oe}from"./index-7fa67d35.js";/* empty css                       */import{H as ne}from"./HomTab-5be0342d.js";import"./videoicon-372ef70a.js";const le="/assets/pcaorosel124-846cfc19.png",re="/assets/pcaorosel224-a1ac2a15.png";const ie=({username:o,userimage:l})=>{const c={dots:!0,infinite:!0,fade:!0,slidesToShow:1,slidesToScroll:1,autoplay:!0,speed:3e3,arrows:!1};return e.jsxs("div",{children:[e.jsxs("div",{className:"flex  w-full  justify-between",children:[e.jsxs("div",{className:"py-8 pl-10 mt-4",children:[e.jsx("p",{className:" mb-2",children:e.jsx("img",{loading:"lazy",src:l,alt:"userimage",className:"hero-img object-cover rounded-full"})}),e.jsxs("p",{className:"font-bold font-Recoleta text30 flex  gap-2 items-center   ",children:[o&&o.charAt(0).toUpperCase()+o.slice(1),"!"]}),e.jsx("p",{className:" font-Hanken text-lg text-gray-400 text1",children:"Start reading."})]}),e.jsxs("div",{className:"hero-w h-[256px]",children:[e.jsxs(O,{...c,children:[e.jsxs("div",{className:" h-[256px]   w-full relative bg-[#8530C1]  rounded-bl-2xl rounded-tr-3xl",children:[e.jsxs("h1",{className:"text25 text-white font-semibold mx-10  my-10 leading-10",children:["Beautifully illustrated storybooks for ",e.jsx("br",{})," your child"]}),e.jsx("img",{src:le,alt:"images",className:"absolute  right-0 bottom-0"})]}),e.jsxs("div",{className:"bg-[#2BB457] w-full relative h-[256px]  rounded-bl-2xl rounded-tr-3xl",children:[e.jsxs("h1",{className:"text25 text-white mx-10  my-10 font-semibold leading-10",children:["Watch educational videos on the",e.jsx("br",{})," African Culture"]}),e.jsx("img",{src:re,alt:"images",className:"absolute  right-0 bottom-0"})]})]}),e.jsx("style",{children:`
          .slick-prev,
          .slick-next {
          }
          .slick-prev:hover,
          .slick-next:hover {
            border-radius : 50%;
          }
          .slick-dots {
            bottom: 20px;
            left:-350px !important;
            z-index:50 !important;
      
          }

          .slick-dots li button:before {
      font-size: 16px; /* Increase the font size of the dots */
      line-height: 1; /* Adjust the line height of the dots */
      width: 5px; /* Increase the width of the dots */
      height: 5px; /* Increase the height of the dots */
      *
      
    }
    .slick-dots li button:before {
      color:white; /* Set the background color of the active dot */
      opacity: 0.2 !important; /* Set the opacity of the active dot */
    }
    .slick-dots li.slick-active button:before{
      color: white;
      opacity:1 !important;
    }
        `})]})]}),e.jsx("hr",{className:"mt-[10px] mb-[50px] mx-16 "})]})},ce=({close:o,image:l,name:c,id:h})=>{console.log(l,h);const g=B.object({school_name:B.string().optional()}),v=J();M(!0);const[d,f]=i.useState(""),[a,S]=i.useState(),[w]=z(H),m=w.find(t=>(t==null?void 0:t.id)==Number(sessionStorage.getItem("profileId")));console.log("ACTIVE PROFILE",m);const{mutate:C}=A(),j=i.useRef(null),b=t=>{console.log("name",t),C({name:t},{onSuccess(r){var U,E;S((E=(U=r==null?void 0:r.data)==null?void 0:U.data)==null?void 0:E.suggestions)},onError(r){I.show({title:"Notification",message:W(r)})}})};i.useEffect(()=>{b(m==null?void 0:m.name)},[]);const[n]=F(d,200),{isError:s,isInitialLoading:x}=G(n),{mutate:p,isLoading:u}=_(),{handleSubmit:N}=D({resolver:R(g)}),y=async t=>{p({profile_id:Number(sessionStorage.getItem("profileId")),schoolname:t==null?void 0:t.school_name,username:d},{async onSuccess(r){v.refetchQueries($.profiles).then(()=>{o()}),I.show({title:"Notification",message:r.data.message})},onError(){I.show({title:"Notification",message:"Invalid username or password"})}})};return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"px-2",children:[e.jsxs("div",{className:"my-3 ",children:[e.jsx("div",{className:"flex justify-center items-center  mb-4",children:e.jsx("img",{src:l,alt:"image",className:"w-[70px]"})}),e.jsx("p",{className:"text-center text25 font-Hanken font-medium leading-4",children:`Complete   ${c}’s profile`}),e.jsx("p",{className:"text2 text-center",children:`  Please update ${c}’s profile to continue`})]}),e.jsxs("div",{className:"my-4 mt-6",children:[e.jsx("p",{className:"text1 font-bold leading-4",children:"Update profile"}),e.jsx("p",{className:"text2 leading-4",children:"Please update your profile to continue"}),e.jsx("form",{onSubmit:N(y),children:e.jsxs("div",{className:"mt-4",children:[e.jsxs("p",{className:"mb-8 suggestion-wrapper",children:[e.jsx("label",{htmlFor:"name",className:"text1 font-medium",children:"Username"}),e.jsx(q,{id:"useNameSuggestion",placeholder:"Choose one or enter your desired username.",name:"user name",onChange:t=>f(t.target.value),value:d,ref:j,list:"user-name-suggestion",rightSection:x&&u?e.jsx(L,{size:"xs"}):null,error:!u&&s&&"user name already exist"}),e.jsx(T.Group,{onChange:t=>{f(t)},value:d,children:e.jsx("div",{className:"flex my-2  flex-wrap gap-2 gap-y-3",children:a==null?void 0:a.map(t=>e.jsx(T,{width:"auto",value:t,children:t},t))})}),a&&e.jsx("datalist",{id:"user-name-suggestion",className:"w-full",children:a==null?void 0:a.map(t=>e.jsx("option",{value:t,className:"w-full",children:t},t))}),e.jsx("p",{className:"text3 my-1",children:"Note: the username will be display on the leaderboard."})]}),e.jsx("p",{className:"mt-2 "}),e.jsx(Q,{type:"submit",children:u?e.jsx("p",{className:"flex justify-center items-center",children:e.jsx(L,{color:"white",size:"sm"})}):e.jsx("span",{children:"Continue"})})]})})]})]})})},xe=({childProfile:o})=>{var u,N,y;const[l,c]=z(V),{data:h}=K(),g=(u=h==null?void 0:h.data)==null?void 0:u.data,v=X(),[d,{open:f,close:a}]=k(!1),[S,{open:w,close:m}]=k(!1),[C,{open:j,close:b}]=k(!1);i.useEffect(()=>{c({...l,...g})},[g]);const[n]=z(H);i.useEffect(()=>{sessionStorage.setItem("gotToHome","true")},[]);const s=o?n==null?void 0:n.find(t=>t.id===+o):n==null?void 0:n[0],{data:x}=Y(sessionStorage.getItem("profileId")),p=(y=(N=x==null?void 0:x.data)==null?void 0:N.data)==null?void 0:y.quizzes;return i.useEffect(()=>{(s==null?void 0:s.username)==""&&f(),(s==null?void 0:s.accepted_summer_challenge)===!1&&s.username!==""&&sessionStorage.getItem("showJoinChallenge")&&(p==null?void 0:p.length)>0&&j()},[s]),!l||!s?e.jsx(Z,{to:"/",replace:!0}):e.jsxs(e.Fragment,{children:[e.jsx(P,{opened:d,radius:6,size:"lg",padding:14,onClose:a,overlayProps:{opacity:.85,blur:3},closeButtonProps:{size:"lg"},centered:!0,closeOnClickOutside:!1,withCloseButton:!1,children:e.jsx(ce,{name:s==null?void 0:s.name,image:s==null?void 0:s.image,id:s==null?void 0:s.id,close:a,openJoinChanllenge:j})}),e.jsx(P,{opened:C,radius:6,size:"lg",padding:14,onClose:b,overlayProps:{opacity:.85,blur:3},closeButtonProps:{size:"lg"},centered:!0,closeOnClickOutside:!1,withCloseButton:!1,children:e.jsx(ee,{close:b,openTopLeaderboard:w})}),e.jsx(P,{opened:S,radius:6,size:"lg",padding:14,onClose:()=>{v("/summer-quiz"),m()},overlayProps:{opacity:.85,blur:3},closeButtonProps:{size:"lg"},centered:!0,children:e.jsx(se,{})}),e.jsx("div",{children:e.jsx(te,{children:e.jsxs(ae,{children:[e.jsx(ie,{userimage:s==null?void 0:s.image,username:s==null?void 0:s.name}),e.jsx("h1",{className:"text-center font-bold text30   font-Hanken   ",children:"Our Library"}),e.jsx(ne,{}),e.jsx(oe,{})]})})})]})};export{xe as default};
