import{j as e,b3 as K,b4 as f,r as N,ck as F,T as S,aE as E,a as $,g as T,as as U,$ as u,cl as Y,cm as J,a0 as v,B as j,L as k,x as _,J as g,M as A}from"./index-7fa67d35.js";import{B}from"./Blxst-09b4a8aa.js";import{E as P,S as H}from"./connectionEmpty-35d9a48c.js";import{a as O}from"./index.esm-9f214563.js";const V=()=>e.jsxs("div",{className:"flex justify-end items-center gap-5  px-8",children:[e.jsxs("div",{className:"flex items-center justify-between relative border-[2px] border-gray-300 rounded-lg ",children:[e.jsx("p",{className:"absolute left-3",children:e.jsx(K,{size:30,color:"#667185"})}),e.jsx("input",{type:"text",name:"",id:"",className:"w-[400px] h-full  p-3 px-5 pl-14 rounded-lg outline-none"})]}),e.jsxs(f,{width:200,shadow:"md",children:[e.jsx(f.Target,{children:e.jsxs("div",{className:"flex items-center gap-2 border border-gray-300 rounded-[8px]  p-[6px] cursor-pointer",children:[e.jsx(O,{size:35}),e.jsx("p",{children:"Sort By"})]})}),e.jsxs(f.Dropdown,{children:[e.jsx(f.Item,{children:"Active"}),e.jsx(f.Item,{children:"Inactive"})]})]})]}),W=()=>{const[s,c]=N.useState(1),{data:n,refetch:t,isLoading:m}=F(!0,s.toString()),o=Math.ceil((n==null?void 0:n.data.data.totalRecord)/10),i=n==null?void 0:n.data.data.records;return e.jsxs("div",{children:[e.jsxs("div",{className:"grid  grid-cols-[1fr_120px_250px_1fr_150px] mt-5  px-8 text-[#344054] font-semibold  py-4 border-b-2 bg-[#F9FAFB] border-[#F0F2F5]",children:[e.jsx("div",{children:"Student's Name"}),e.jsx("div",{children:"Class"}),e.jsx("div",{children:"Parent's Email"}),e.jsx("div",{children:"Parent's Name"}),e.jsx("div",{children:"Date Rejected"})]}),e.jsx("div",{className:"flex-grow",children:e.jsx("div",{children:m?new Array(8).fill(1).map((r,d)=>e.jsx(S,{height:60,my:10,visible:!0,children:e.jsx("h1",{className:"w-full"})},d)):(i==null?void 0:i.length)>0?i.slice().reverse().map((r,d)=>e.jsx(X,{requestData:r},d)):e.jsxs("div",{className:"flex justify-center items-center h-full mt-24 flex-col",children:[e.jsx("img",{src:P,alt:"No requests",className:"w-[150px] h-[150px] object-contain"}),e.jsx("p",{className:"font-Inter text-[18px]",children:"No connection requests"}),e.jsx("p",{className:"font-Baloo text-[14px]",children:"Connection requests would appear here."})]})})}),e.jsx("div",{className:"flex  justify-end mt-2 px-4",children:o>1&&e.jsx("div",{className:"  mr-2 flex justify-end  pb-4",children:e.jsx(E,{total:o,value:s,defaultChecked:!0,onChange:c,onClick:()=>{t()},styles:()=>({control:{"&[data-active]":{backgroundColor:"#C2DBB0 !important"}}})})})})]})},X=({requestData:s})=>{var c,n,t;return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"grid grid-cols-[1fr_120px_250px_1fr_150px] my-2 py-4 px-8 border-b-2 border-[#F0F2F5] text-[#101928]",children:[e.jsx("div",{children:e.jsxs("p",{className:"text-center items-center flex gap-3",children:[e.jsx("img",{src:(s==null?void 0:s.image)||B,alt:"Student",className:"w-[40px] h-[40px] rounded-full"}),e.jsxs("span",{children:[(s==null?void 0:s.firstname.charAt(0).toUpperCase())+(s==null?void 0:s.firstname.slice(1))," ",s==null?void 0:s.lastname]})]})}),e.jsx("div",{children:e.jsx("p",{children:(c=s==null?void 0:s.class)==null?void 0:c.class_name})}),e.jsx("div",{children:e.jsx("p",{children:"sample123@gmail.com"})}),e.jsx("div",{children:e.jsxs("p",{children:[(n=s==null?void 0:s.parent)==null?void 0:n.firstname," ",(t=s==null?void 0:s.parent)==null?void 0:t.lastname]})}),e.jsx("div",{children:e.jsx("p",{children:"Apr 12, 2023 "})})]})})},ie=()=>{const[s,c]=N.useState(1),{data:n,refetch:t,isLoading:m}=F(!0,s.toString()),o=Math.ceil((n==null?void 0:n.data.data.totalRecord)/10),i=n==null?void 0:n.data.data.records,[r,d]=N.useState(!0);return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"h-full flex flex-col overflow-y-scroll",children:[e.jsx("div",{className:"mb-4",children:e.jsxs("h1",{className:"text-[24px]  font-Inter  gap-3",children:["Requests",e.jsx("span",{className:"text-gray-500 font-[14px] ml-6 bg-customGreen2 rounded-2xl p-2",children:(i==null?void 0:i.length)||0})]})}),e.jsxs("div",{className:" flex-grow flex flex-col   rounded-3xl py-4 bg-white border-[2px] border-[#E4E7EC]  ",children:[e.jsxs("div",{className:"flex justify-between mt-4 mb-2 ",children:[e.jsxs("div",{className:"grid grid-cols-2 h-[40px]  rounded-xl items-center ml-10 ",children:[e.jsx("button",{onClick:()=>d(!0),className:`h-full  w-full rounded-l-xl border-t-[2px] border-b-[2px] text-[14px] font-Inter border-[#E4E7EC] text-center py-[10px] px-[16px] border-l-[2px] ${r?"bg-customGreen2 border-customGreen2 text-[#1D2739]":"bg-[#F5F7F8] border-[#E4E7EC] text-[#667185]"}`,children:"Pending"}),e.jsx("button",{onClick:()=>d(!1),className:`h-full  w-full rounded-r-xl text-center py-[10px] px-[16px] text-[14px] font-Inter border-t-[2px] border-b-[2px]  border-r-[2px] ${r?"bg-[#F5F7F8] border-[#E4E7EC] text-[#667185]":"bg-customGreen2 border-customGreen2 text-[#1D2739]"}`,children:"Denied"})]}),e.jsx(V,{})]}),r?e.jsxs("div",{children:[e.jsxs("div",{className:"grid   grid-cols-[1fr_120px_300px_1fr_150px] mt-5  px-8 text-[#344054] font-semibold  py-4 border-b-2 bg-[#F9FAFB] border-[#F0F2F5]",children:[e.jsx("div",{children:"Student's Name"}),e.jsx("div",{children:"Class"}),e.jsx("div",{children:"Parent's Email"}),e.jsx("div",{children:"Parent's Name"}),e.jsx("div",{children:"Actions"})]}),e.jsx("div",{className:"flex-grow",children:e.jsx("div",{children:m?new Array(8).fill(1).map((p,h)=>e.jsx(S,{height:60,my:10,visible:!0,children:e.jsx("h1",{className:"w-full"})},h)):(i==null?void 0:i.length)>0?i.map((p,h)=>e.jsx(Z,{requestData:p,refetch:t},h)):e.jsxs("div",{className:"flex justify-center items-center h-full mt-24 flex-col ",children:[e.jsx("img",{src:P,alt:"No requests",className:"w-[150px] h-[150px] object-contain"}),e.jsxs("p",{className:" font-Inter text-[18px] ",children:["No connection requests"," "]}),e.jsx("p",{className:" font-Baloo text-[14px] ",children:"Connection requests would appear here."})]})})}),e.jsx("div",{className:"flex  justify-end mt-2 px-4",children:o>1&&e.jsx("div",{className:"  mr-2 flex justify-end  pb-4",children:e.jsx(E,{total:o,value:s,defaultChecked:!0,onChange:c,onClick:()=>{t()},styles:()=>({control:{"&[data-active]":{backgroundColor:"#C2DBB0 !important"}}})})})})]}):e.jsx(e.Fragment,{children:e.jsx(W,{})})]}),e.jsx("style",{children:`
       ::-webkit-scrollbar {
  width: 0;
  background: transparent;
}
        `})]})})},Z=({requestData:s,refetch:c})=>{var C,b,w;const[n]=$(T),t=U(),[m,{open:o,close:i}]=u(!1),[r,{open:d,close:p}]=u(!1),[h,{open:z,close:y}]=u(!1),{mutate:R,isLoading:G}=Y(),{mutate:I,isLoading:L}=J(),M=l=>{R({student_id:l==null?void 0:l.id},{onSuccess(x){var a;_("handle_student_request",{school_id:n==null?void 0:n.user_id,class_name:(a=l==null?void 0:l.class)==null?void 0:a.class_name,student_name:(l==null?void 0:l.firstname)+" "+(l==null?void 0:l.lastname),request_status:"accepted"}),c(),t.invalidateQueries({queryKey:["GetAttemptStudentConnect"]}),t.invalidateQueries({queryKey:["GetAttemptAllStudentConnect"]}),g.show({title:"Notification",message:x.data.message})},onError(x){o(),g.show({title:"Notification",message:A(x)})}})},Q=l=>{I({student_id:l==null?void 0:l.id},{onSuccess(x){var a;_("handle_student_request",{school_id:n==null?void 0:n.user_id,class_name:(a=l==null?void 0:l.class)==null?void 0:a.class_name,student_name:(l==null?void 0:l.firstname)+" "+(l==null?void 0:l.lastname),request_status:"declined"}),c(),t.invalidateQueries({queryKey:["GetAttemptStudentConnect"]}),t.invalidateQueries({queryKey:["GetAttemptAllStudentConnect"]}),g.show({title:"Notification",message:x.data.message})},onError(x){g.show({title:"Notification",message:A(x)})}})};return e.jsxs(e.Fragment,{children:[e.jsx(v,{radius:10,size:"md",opened:m,onClose:i,closeButtonProps:{size:"lg"},centered:!0,children:e.jsx(H,{onCancel:i,label:"Students"})}),e.jsx(v,{radius:16,size:"md",padding:0,opened:r,onClose:p,closeButtonProps:{size:"lg"},withCloseButton:!1,centered:!0,mr:500,children:e.jsx(q,{close:p,submit:()=>M(s),isLoading:G})}),e.jsx(v,{radius:16,size:"md",padding:0,opened:h,onClose:y,closeButtonProps:{size:"lg"},withCloseButton:!1,centered:!0,children:e.jsx(D,{close:y,submit:()=>Q(s),isLoading:L})}),e.jsxs("div",{className:"grid grid-cols-[1fr_120px_300px_1fr_150px] my-2 h-[72px] items-center px-8 border-b-2 border-[#E5E7EB] text-[#101928]",children:[e.jsx("div",{children:e.jsxs("p",{className:"text-center items-center flex gap-3",children:[e.jsx("img",{src:(s==null?void 0:s.image)||B,alt:"Student",className:"w-[40px] h-[40px] rounded-full"}),e.jsxs("span",{children:[(s==null?void 0:s.firstname.charAt(0).toUpperCase())+(s==null?void 0:s.firstname.slice(1))," ",s==null?void 0:s.lastname]})]})}),e.jsx("div",{children:e.jsx("p",{children:(C=s==null?void 0:s.class)==null?void 0:C.class_name})}),e.jsx("div",{children:e.jsx("p",{children:"sample123@gmail.com"})}),e.jsx("div",{children:e.jsxs("p",{children:[(b=s==null?void 0:s.parent)==null?void 0:b.firstname," ",(w=s==null?void 0:s.parent)==null?void 0:w.lastname]})}),e.jsxs("div",{className:"flex justify-between text-white gap-4",children:[e.jsx("button",{onClick:()=>z(),className:"text-[16px] h-[38px] flex justify-center items-center rounded text-[#2C3137] font-semibold",children:e.jsx("span",{children:"Deny"})}),e.jsx("button",{onClick:()=>d(),className:"text-[16px] h-[38px] flex justify-center items-center rounded font-semibold text-customGreen",children:e.jsx("span",{children:"Accept"})})]})]})]})},q=({close:s,submit:c,isLoading:n})=>e.jsxs("div",{className:"",children:[e.jsx("p",{className:"font-Inter bg-customGreen text-[18px] px-[20px] py-4 text-white rounded-t-lg",children:"Accept Request"}),e.jsx("p",{className:"mt-8 text-center text-[16px]",children:"Are sure you want to accept this connection request?"}),e.jsxs("div",{className:"flex justify-center items-center mt-8 gap-5 pb-5",children:[e.jsx(j,{onClick:s,size:"sm",className:"bg-[#F5F7F8] text-black",children:"Cancel"}),e.jsx(j,{onClick:c,backgroundColor:"green",size:"sm",children:n?e.jsx(k,{color:"#BCD678",size:"sm"}):e.jsx("span",{children:"Yes, accept request"})})]})]}),D=({close:s,submit:c,isLoading:n})=>e.jsxs("div",{className:"",children:[e.jsx("p",{className:"font-Inter bg-customGreen text-[18px] px-[20px] py-4 text-white rounded-t-lg",children:"Deny Request"}),e.jsx("p",{className:"mt-8 text-center text-[16px]",children:"Are sure you want to deny this connection request?"}),e.jsxs("div",{className:"flex justify-center items-center mt-8 gap-5 pb-5",children:[e.jsx(j,{onClick:s,size:"sm",className:"bg-[#F5F7F8] text-black",children:"Cancel"}),e.jsx(j,{onClick:c,backgroundColor:"green",size:"sm",children:n?e.jsx(k,{color:"#BCD678",size:"sm"}):e.jsx("span",{children:"Yes, deny request"})})]})]});export{q as AcceptStudentModal,ie as default};
