import{f as k,ag as z,a as T,a5 as _,a4 as L,r as y,D as s,E as B,H as G,j as e,K as H,I as r,a7 as K,B as R,L as D,J as N,M as F,P as U}from"./index-7fa67d35.js";import{P as $}from"./passwordIcon-7f95e3ee.js";import{P as O}from"./passwordeye-4260251c.js";import{E as Z}from"./emaillogo-e646828f.js";const J=()=>{var d,x,g,h,u,p,j,f;const i=k(),{isLoading:S,mutate:b}=z(),[w]=T(_),{data:c}=L(),l=(d=c==null?void 0:c.data)==null?void 0:d.data,[m,v]=y.useState(),[E,P]=y.useState("US"),C=n=>{P(n),console.log("Selected c:",n),v(l==null?void 0:l.find(o=>o.iso2===n))},A=s.object({school_name:s.string().min(2,{message:"School name must be at least 4 characters long"}).max(40,{message:"School name must not exceed 20 characters"}),school_address:s.string().min(2,{message:"Address must be at least 4 characters long"}).max(50,{message:"Address must not exceed 40 characters"}),name:s.string().min(2,{message:"Contact name must be at least 4 characters long"}).max(20,{message:"Contact name must not exceed 20 characters"}),state:s.string().min(2,{message:" The state name must be at least 2 characters long"}).max(20,{message:"The state name must not exceed 20 characters"}),phone:s.string().min(11,{message:"Phone number must not less than 11 characters"}),email:s.string().email(),password:s.string().min(8,{message:"Password must be at least 8 characters long"}).max(20,{message:"Password must not exceed 20 characters"}).regex(/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,}$/,{message:"Password must include at least one uppercase letter, one lowercase letter, one number, and one special character"})}),{register:a,handleSubmit:I,formState:{errors:t}}=B({resolver:G(A)}),M=async n=>{sessionStorage.clear(),b({...n,fcm_token:w,country_id:(m==null?void 0:m.id)||233},{onSuccess(o){N.show({title:"Notification",message:o.data.message}),i("/schoolverification")},onError(o){N.show({title:"Notification",message:F(o)})}})};return e.jsx("div",{className:"flex justify-center   bg-white rounded-[50px] w-[550px] h-full  overflow-y-scroll ",children:e.jsxs("div",{className:"inner-form-w mx-auto relative",children:[e.jsx("div",{className:"flex justify-center items-center mt-10 mb-7 ",children:e.jsx("img",{src:H,alt:"image",className:"w-[160px]"})}),e.jsxs("div",{className:"w-[100%]",children:[e.jsx("h1",{className:"font-bold fon header2 font-BalooSemiBold text-center",children:"Sign up for school"}),e.jsxs("p",{className:"text2 text-[#A7A7A7]   font-ArimoRegular text-center mb-8",children:["Start learning and reading without restrictions."," "]}),e.jsxs("form",{onSubmit:I(M),className:"text3",children:[e.jsx("p",{className:"my-4",children:e.jsx(r,{type:"text",placeholder:"Enter School Name",reg:a("school_name"),errorMsg:(x=t.school_name)==null?void 0:x.message})}),e.jsx("p",{className:"my-4",children:e.jsx(r,{type:"text",placeholder:"Enter School Address",reg:a("school_address"),errorMsg:(g=t.school_address)==null?void 0:g.message})}),e.jsxs("div",{className:"my-4 flex justify-end items-center gap-2",children:[e.jsx(K,{selected:E,onSelect:C,searchable:!0,className:"w-full h-full "}),e.jsx("p",{className:"w-full h-full mb-[10px]",children:e.jsx(r,{type:"text",placeholder:"Enter State",reg:a("state"),errorMsg:(h=t.state)==null?void 0:h.message})})]}),e.jsx("p",{className:"my-4"}),e.jsx("div",{className:"mt-10 mb-2 border-b-[1px] border-gray-200",children:e.jsx("p",{className:"text-bold  font-Hanken text-customGreen",children:"CONTACT PERSON DETAILS"})}),e.jsx("p",{className:"my-4",children:e.jsx(r,{type:"text",placeholder:"Enter Contact Name",reg:a("name"),errorMsg:(u=t.name)==null?void 0:u.message})}),e.jsxs("p",{className:"my-4",children:[e.jsx(r,{type:"number",placeholder:"Enter Phone number",reg:a("phone"),errorMsg:(p=t.phone)==null?void 0:p.message}),e.jsx("p",{className:"text-[10px] text-[#999999] font-Inter px-2 pt-1",children:"Please include your country code"})]}),e.jsx("p",{className:"my-3",children:e.jsx(r,{type:"text",placeholder:"Enter Email",leftIcon:e.jsx("img",{loading:"lazy",src:Z,alt:"pasword icon"}),reg:a("email"),errorMsg:(j=t.email)==null?void 0:j.message})}),e.jsx("p",{className:"my-4",children:e.jsx(r,{type:"password",placeholder:"Create Password",leftIcon:e.jsx("img",{loading:"lazy",src:$,alt:"pasword icon"}),rightIcon:e.jsx("img",{loading:"lazy",src:O,alt:"paswordeye icon"}),reg:a("password"),errorMsg:(f=t.password)==null?void 0:f.message})}),e.jsxs("p",{className:"text-center text3 font-Hanken m-3 mt-5 text-gray-400",children:["By continuing you agree to Kunda Kids",e.jsxs("strong",{className:" text-customGreen",children:[" ","Terms of Service"," "]})," ","and",e.jsx("strong",{className:"text-customGreen",children:" Privacy Policy "})]}),e.jsx("div",{className:"flex justify-center items-center mt-10",children:e.jsx(R,{type:"submit",size:"sm",backgroundColor:"green",className:"px-[50px] rounded-full font-bold",children:S?e.jsx("p",{className:"flex justify-center items-center",children:e.jsx(D,{color:"white",size:"sm"})}):e.jsx("span",{className:"text3",children:"Create account"})})})]}),e.jsxs("p",{className:"mt-1 text-center text3 text-gray-400 pb-16",children:[e.jsx("span",{className:"font-Hanken",children:"Already hava an account? "}),e.jsx("button",{onClick:()=>i("/login"),className:` text-customGreen font-bold
              `,children:"Login"})]})]})]})})},X=()=>e.jsx("div",{className:"flex",children:e.jsx(U,{children:e.jsx(J,{})})});export{X as default};
