import{j as e,aq as u,r as y,co as N,T as b,aE as v,cl as w,cm as C,$ as A,as as E,a0 as S,L as j,J as x,M as p}from"./index-7fa67d35.js";import{B as k}from"./Blxst-09b4a8aa.js";const F=({onCancel:s,label:l})=>{const i=()=>{s()};return e.jsxs(u.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:1},children:[e.jsxs("h1",{className:"font-bold text20  text-center leading-8 mb-10",children:["Please upgrade your license to add more ",l]}),e.jsx("p",{className:"text-center mb-10 ",children:"Please contact your Admin."}),e.jsx("div",{className:"flex justify-end gap-4 mb-5 px-5",children:e.jsx("button",{onClick:i,className:"p-3 pad-x-10 bg-red-200 text-red-600 rounded flex-grow",children:"Cancel"})})]})},G=()=>{const[s,l]=y.useState(1),{data:i,refetch:o,isLoading:m}=N(!0,s.toString()),d=Math.ceil((i==null?void 0:i.data.data.totalRecord)/10),n=i==null?void 0:i.data.data.records;return e.jsxs("div",{className:"h-full flex flex-col overflow-y-scroll",children:[e.jsxs("div",{className:" flex-grow flex flex-col rounded-3xl p-4 bg-white border-[2px] border-[#F2EAF1]",children:[e.jsx("div",{className:"flex  justify-between items-center w-full px-8 ",children:e.jsx("div",{children:e.jsxs("h1",{className:"text-[24px] font-semibold",children:["Request"," ",e.jsx("span",{className:"text-[#8530C1] bg-[#FFF7FD] rounded-3xl py-1 px-4",children:(n==null?void 0:n.length)||0})]})})}),e.jsx("div",{className:"flex-grow",children:e.jsx("div",{children:m?new Array(8).fill(1).map(c=>e.jsx(b,{height:60,my:10,visible:!0,children:e.jsx("h1",{className:"w-full",children:c})})):n==null?void 0:n.map((c,r)=>e.jsx(R,{requestData:c,refetch:o},r))})}),e.jsx("div",{className:"flex  justify-end mt-2 px-4",children:d>1&&e.jsx("div",{className:"  mr-2 flex justify-end  pb-4",children:e.jsx(v,{total:d,value:s,defaultChecked:!0,onChange:l,onClick:()=>{o()},styles:()=>({control:{"&[data-active]":{backgroundColor:"#8530C1 !important"}}})})})})]}),e.jsx("style",{children:`
       ::-webkit-scrollbar {
  width: 0;
  background: transparent;
}
        `})]})},R=({requestData:s,refetch:l})=>{const{mutate:i,isLoading:o}=w(),{mutate:m,isLoading:d}=C(),[n,{open:c,close:r}]=A(!1),a=E(),f=h=>{i({student_id:h},{onSuccess(t){l(),a.invalidateQueries({queryKey:["GetAttemptStudentConnect"]}),a.invalidateQueries({queryKey:["GetAttemptAllStudentConnect"]}),x.show({title:"Notification",message:t.data.message})},onError(t){c(),x.show({title:"Notification",message:p(t)})}})},g=h=>{m({student_id:h},{onSuccess(t){l(),a.invalidateQueries({queryKey:["GetAttemptStudentConnect"]}),a.invalidateQueries({queryKey:["GetAttemptAllStudentConnect"]}),x.show({title:"Notification",message:t.data.message})},onError(t){x.show({title:"Notification",message:p(t)})}})};return e.jsxs(e.Fragment,{children:[e.jsx(S,{radius:10,size:"md",opened:n,onClose:r,closeButtonProps:{size:"lg"},centered:!0,children:e.jsx(F,{onCancel:r,label:"Students"})}),e.jsxs("div",{className:"grid grid-cols-[1fr_300px] my-4 ",children:[e.jsxs("div",{className:"flex item-center ",children:[e.jsx("p",{className:"mr-6 flex justify-center ",children:e.jsx("img",{src:s!=null&&s.image?s==null?void 0:s.image:k,alt:"image",className:" rounded-full w-[60px]"})}),e.jsx("div",{className:"flex justify-center items-center",children:e.jsxs("p",{className:"text-[#7E7E89] text2 font-medium  text-center inline  items-center",children:[e.jsxs("span",{className:"text-[#8530C1] ",children:[(s==null?void 0:s.firstname.charAt(0).toUpperCase())+(s==null?void 0:s.firstname.slice(1))," ",s==null?void 0:s.lastname]})," ","is requesting to join your class"]})})]}),e.jsxs("div",{className:"flex  text-white gap-5 items-center justify-center ",children:[e.jsx("button",{onClick:()=>{g(s==null?void 0:s.id)},className:" pad-x-40   text-[16px]   h-[38px] flex justify-center items-center rounded bg-[#E2B6FF] ",children:d?e.jsx("p",{className:"flex justify-center items-center",children:e.jsx(j,{color:"white",size:"sm"})}):e.jsx("span",{children:"Decline"})}),e.jsx("button",{onClick:()=>{f(s==null?void 0:s.id)},className:"pad-x-40 text-[16px]  h-[38px]  flex justify-center items-center rounded bg-[#8530C1]",children:o?e.jsx("p",{className:"flex justify-center items-center",children:e.jsx(j,{color:"white",size:"sm"})}):e.jsx("span",{children:"Accept"})})]})]})]})};export{G as default};
