import{a as p,g as j,f as g,bI as D,j as e,aq as k,B as m,L as F,x as B,J as h,$ as A,bh as M,bi as P,a0 as T,O as _,ar as I}from"./index-7fa67d35.js";const R=({onCancel:n})=>{const[t]=p(j),c=g(),{mutate:o,isLoading:s}=D();function a(l){return l<10?"0"+l:l}const r=new Date,b=r.getHours(),y=r.getMinutes(),N=r.getSeconds(),v=a(b)+":"+a(y)+":"+a(N),d=new Date,w=d.getFullYear(),u=d.getMonth()+1,x=d.getDate(),S=w+"-"+(u<10?"0"+u:u)+"-"+(x<10?"0"+x:x),C=()=>{o({},{async onSuccess(l){B(`${(t==null?void 0:t.role)=="teacher"?"teacher":(t==null?void 0:t.role)=="user"?"parent":"school"}_delete_account`,{user_id:t==null?void 0:t.user_id,date_deleted:S,time_deleted:v}),sessionStorage.clear(),n(),c("/"),h.show({title:"Notification",message:l.data.message})},onError(){h.show({title:"Notification",message:"Invalid username or password"})}})};return e.jsxs(k.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:1},className:"py-5",children:[e.jsx("h1",{className:"font-bold text25 text-center font-Recoleta mb-2 leading-[30px]",children:"Are you sure you want to delete your account?"}),e.jsx("p",{className:"text-center mb-16  font-Inter   ",children:"If you delete your account, you canâ€™t recover it."}),e.jsxs("div",{className:"flex justify-end gap-4 mb-5 px-5",children:[e.jsx(m,{varient:"outlined",onClick:n,className:"p-4 px-10  text-black rounded-full flex-grow",children:"Cancel"}),e.jsx(m,{onClick:C,className:"p-4 px-10 bg-red-600 text-white rounded-full flex-grow",children:s?e.jsx("p",{className:"flex justify-center items-center",children:e.jsx(F,{color:"white",size:"sm"})}):e.jsx("span",{children:"Delete"})})]})]})},H=()=>e.jsxs("div",{className:" ",children:[e.jsx("h1",{className:"font-semibold text-[30px] font-Recoleta text-black leading-[30px] mt-[37px] mb-5",children:"Account"}),e.jsx("p",{className:"text-[#B5B5C3] text-[20px] font-Hanken mb-8s",children:"Manage your preference here."}),e.jsx("hr",{className:"my-4"})]}),i="/account",f=[{name:"Profile",route:i,href:"",isSchool:!0,isTeacher:!0,isParent:!0},{name:"My Kids",route:i+"/mykids",href:"mykids",isParent:!0},{name:"Subscription Plan",route:i+"/subscriptionplan",href:"subscriptionplan",isParent:!0,isSchool:!1},{name:"Password",route:i+"/accountpassword",href:"accountpassword",isTeacher:!0,isSchool:!0,isParent:!0}],$=()=>{const n=g(),[t,{open:c,close:o}]=A(!1),[s,,]=p(j);return e.jsx(M,{bgColor:"#FFF7FD",children:e.jsxs(P,{children:[e.jsx(T,{radius:"sm",size:"md",opened:t,onClose:o,withCloseButton:!1,centered:!0,children:e.jsx(R,{onCancel:o})}),e.jsxs("div",{className:"min-h-[calc(92vh-40px)] h-auto w-full flex flex-col px-20 py-4",children:[e.jsx("div",{children:e.jsx(H,{})}),e.jsxs("div",{className:"flex flex-grow  w-full",children:[e.jsxs("div",{className:"flex basis-1/4 flex-col",children:[e.jsx("div",{className:`  h-full p-2 flex-grow w-full 
              `,children:f&&f.map((a,r)=>(s==null?void 0:s.role)==="teacher"&&!a.isTeacher||(s==null?void 0:s.role)==="schoolAdmin"&&!a.isSchool?null:e.jsx(L,{...a,onClick:()=>{n(a.href)}},r))}),e.jsx("div",{className:"mb-28",children:e.jsx("button",{onClick:c,className:"p-2 px-10 text-red-600",children:"Delete Account"})})]}),e.jsx("div",{className:"basis-full  h-full",children:e.jsx(_,{})})]})]})]})})},L=({name:n,route:t,onClick:c})=>{const o=I(t);return e.jsx("div",{className:"my-8 w-[100%]",children:e.jsx("button",{onClick:c,className:`py-3 px-4  text-[16px] rounded-full  font-medium font-Hanken w-[186px] text-left ${o?"bg-[#FFF7FD] text-[#8530C1]":"text-[#B5B5C3] "}  `,children:n})})};export{$ as default};
