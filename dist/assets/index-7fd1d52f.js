import{$ as K,r as Y,Y as k,cn as W,D as u,E as J,j as a,a0 as G,P as Q,K as X,I as N,B as P,L as Z,f as v,ai as ee,H as re,J as S,bm as te,M as ne}from"./index-7fa67d35.js";import{P as C}from"./passwordIcon-7f95e3ee.js";import{P as E}from"./passwordeye-4260251c.js";const $="%[a-f0-9]{2}",O=new RegExp("("+$+")|([^%]+?)","gi"),A=new RegExp("("+$+")+","gi");function g(e,r){try{return[decodeURIComponent(e.join(""))]}catch{}if(e.length===1)return e;r=r||1;const t=e.slice(0,r),n=e.slice(r);return Array.prototype.concat.call([],g(t),g(n))}function se(e){try{return decodeURIComponent(e)}catch{let r=e.match(O)||[];for(let t=1;t<r.length;t++)e=g(r,t).join(""),r=e.match(O)||[];return e}}function ae(e){const r={"%FE%FF":"��","%FF%FE":"��"};let t=A.exec(e);for(;t;){try{r[t[0]]=decodeURIComponent(t[0])}catch{const s=se(t[0]);s!==t[0]&&(r[t[0]]=s)}t=A.exec(e)}r["%C2"]="�";const n=Object.keys(r);for(const s of n)e=e.replace(new RegExp(s,"g"),r[s]);return e}function ce(e){if(typeof e!="string")throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return decodeURIComponent(e)}catch{return ae(e)}}function U(e,r){if(!(typeof e=="string"&&typeof r=="string"))throw new TypeError("Expected the arguments to be of type `string`");if(e===""||r==="")return[];const t=e.indexOf(r);return t===-1?[]:[e.slice(0,t),e.slice(t+r.length)]}function ie(e,r){const t={};if(Array.isArray(r))for(const n of r){const s=Object.getOwnPropertyDescriptor(e,n);s!=null&&s.enumerable&&Object.defineProperty(t,n,s)}else for(const n of Reflect.ownKeys(e)){const s=Object.getOwnPropertyDescriptor(e,n);if(s.enumerable){const i=e[n];r(n,i,e)&&Object.defineProperty(t,n,s)}}return t}const oe=e=>e==null,fe=e=>encodeURIComponent(e).replace(/[!'()*]/g,r=>`%${r.charCodeAt(0).toString(16).toUpperCase()}`),h=Symbol("encodeFragmentIdentifier");function de(e){switch(e.arrayFormat){case"index":return r=>(t,n)=>{const s=t.length;return n===void 0||e.skipNull&&n===null||e.skipEmptyString&&n===""?t:n===null?[...t,[f(r,e),"[",s,"]"].join("")]:[...t,[f(r,e),"[",f(s,e),"]=",f(n,e)].join("")]};case"bracket":return r=>(t,n)=>n===void 0||e.skipNull&&n===null||e.skipEmptyString&&n===""?t:n===null?[...t,[f(r,e),"[]"].join("")]:[...t,[f(r,e),"[]=",f(n,e)].join("")];case"colon-list-separator":return r=>(t,n)=>n===void 0||e.skipNull&&n===null||e.skipEmptyString&&n===""?t:n===null?[...t,[f(r,e),":list="].join("")]:[...t,[f(r,e),":list=",f(n,e)].join("")];case"comma":case"separator":case"bracket-separator":{const r=e.arrayFormat==="bracket-separator"?"[]=":"=";return t=>(n,s)=>s===void 0||e.skipNull&&s===null||e.skipEmptyString&&s===""?n:(s=s===null?"":s,n.length===0?[[f(t,e),r,f(s,e)].join("")]:[[n,f(s,e)].join(e.arrayFormatSeparator)])}default:return r=>(t,n)=>n===void 0||e.skipNull&&n===null||e.skipEmptyString&&n===""?t:n===null?[...t,f(r,e)]:[...t,[f(r,e),"=",f(n,e)].join("")]}}function le(e){let r;switch(e.arrayFormat){case"index":return(t,n,s)=>{if(r=/\[(\d*)]$/.exec(t),t=t.replace(/\[\d*]$/,""),!r){s[t]=n;return}s[t]===void 0&&(s[t]={}),s[t][r[1]]=n};case"bracket":return(t,n,s)=>{if(r=/(\[])$/.exec(t),t=t.replace(/\[]$/,""),!r){s[t]=n;return}if(s[t]===void 0){s[t]=[n];return}s[t]=[...s[t],n]};case"colon-list-separator":return(t,n,s)=>{if(r=/(:list)$/.exec(t),t=t.replace(/:list$/,""),!r){s[t]=n;return}if(s[t]===void 0){s[t]=[n];return}s[t]=[...s[t],n]};case"comma":case"separator":return(t,n,s)=>{const i=typeof n=="string"&&n.includes(e.arrayFormatSeparator),c=typeof n=="string"&&!i&&d(n,e).includes(e.arrayFormatSeparator);n=c?d(n,e):n;const o=i||c?n.split(e.arrayFormatSeparator).map(m=>d(m,e)):n===null?n:d(n,e);s[t]=o};case"bracket-separator":return(t,n,s)=>{const i=/(\[])$/.test(t);if(t=t.replace(/\[]$/,""),!i){s[t]=n&&d(n,e);return}const c=n===null?[]:n.split(e.arrayFormatSeparator).map(o=>d(o,e));if(s[t]===void 0){s[t]=c;return}s[t]=[...s[t],...c]};default:return(t,n,s)=>{if(s[t]===void 0){s[t]=n;return}s[t]=[...[s[t]].flat(),n]}}}function R(e){if(typeof e!="string"||e.length!==1)throw new TypeError("arrayFormatSeparator must be single character string")}function f(e,r){return r.encode?r.strict?fe(e):encodeURIComponent(e):e}function d(e,r){return r.decode?ce(e):e}function D(e){return Array.isArray(e)?e.sort():typeof e=="object"?D(Object.keys(e)).sort((r,t)=>Number(r)-Number(t)).map(r=>e[r]):e}function B(e){const r=e.indexOf("#");return r!==-1&&(e=e.slice(0,r)),e}function me(e){let r="";const t=e.indexOf("#");return t!==-1&&(r=e.slice(t)),r}function I(e,r){return r.parseNumbers&&!Number.isNaN(Number(e))&&typeof e=="string"&&e.trim()!==""?e=Number(e):r.parseBooleans&&e!==null&&(e.toLowerCase()==="true"||e.toLowerCase()==="false")&&(e=e.toLowerCase()==="true"),e}function x(e){e=B(e);const r=e.indexOf("?");return r===-1?"":e.slice(r+1)}function y(e,r){r={decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1,...r},R(r.arrayFormatSeparator);const t=le(r),n=Object.create(null);if(typeof e!="string"||(e=e.trim().replace(/^[?#&]/,""),!e))return n;for(const s of e.split("&")){if(s==="")continue;const i=r.decode?s.replace(/\+/g," "):s;let[c,o]=U(i,"=");c===void 0&&(c=i),o=o===void 0?null:["comma","separator","bracket-separator"].includes(r.arrayFormat)?o:d(o,r),t(d(c,r),o,n)}for(const[s,i]of Object.entries(n))if(typeof i=="object"&&i!==null)for(const[c,o]of Object.entries(i))i[c]=I(o,r);else n[s]=I(i,r);return r.sort===!1?n:(r.sort===!0?Object.keys(n).sort():Object.keys(n).sort(r.sort)).reduce((s,i)=>{const c=n[i];return s[i]=c&&typeof c=="object"&&!Array.isArray(c)?D(c):c,s},Object.create(null))}function M(e,r){if(!e)return"";r={encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:",",...r},R(r.arrayFormatSeparator);const t=c=>r.skipNull&&oe(e[c])||r.skipEmptyString&&e[c]==="",n=de(r),s={};for(const[c,o]of Object.entries(e))t(c)||(s[c]=o);const i=Object.keys(s);return r.sort!==!1&&i.sort(r.sort),i.map(c=>{const o=e[c];return o===void 0?"":o===null?f(c,r):Array.isArray(o)?o.length===0&&r.arrayFormat==="bracket-separator"?f(c,r)+"[]":o.reduce(n(c),[]).join("&"):f(c,r)+"="+f(o,r)}).filter(c=>c.length>0).join("&")}function z(e,r){var s;r={decode:!0,...r};let[t,n]=U(e,"#");return t===void 0&&(t=e),{url:((s=t==null?void 0:t.split("?"))==null?void 0:s[0])??"",query:y(x(e),r),...r&&r.parseFragmentIdentifier&&n?{fragmentIdentifier:d(n,r)}:{}}}function L(e,r){r={encode:!0,strict:!0,[h]:!0,...r};const t=B(e.url).split("?")[0]||"",n=x(e.url),s={...y(n,{sort:!1}),...e.query};let i=M(s,r);i&&(i=`?${i}`);let c=me(e.url);if(e.fragmentIdentifier){const o=new URL(t);o.hash=e.fragmentIdentifier,c=r[h]?o.hash:`#${e.fragmentIdentifier}`}return`${t}${i}${c}`}function T(e,r,t){t={parseFragmentIdentifier:!0,[h]:!1,...t};const{url:n,query:s,fragmentIdentifier:i}=z(e,t);return L({url:n,query:ie(s,r),fragmentIdentifier:i},t)}function ue(e,r,t){const n=Array.isArray(r)?s=>!r.includes(s):(s,i)=>!r(s,i);return T(e,n,t)}const ge=Object.freeze(Object.defineProperty({__proto__:null,exclude:ue,extract:x,parse:y,parseUrl:z,pick:T,stringify:M,stringifyUrl:L},Symbol.toStringTag,{value:"Module"})),pe=()=>{var w,F;const[e,{open:r,close:t}]=K(!1),n=window.location.href,s=ge.parseUrl(n),[i,c]=Y.useState(k),{isLoading:o,mutate:m}=W(),q=u.object({password:u.string().min(4,{message:"Password must be at least 4 characters long"}).max(20,{message:"Password must not exceed 20 characters"}),confirmPassword:u.string()}).refine(l=>l.password===l.confirmPassword,{message:"passwords do not match",path:["confirmPassword"]}),{register:j,handleSubmit:_,formState:{errors:p}}=J({resolver:re(q)}),V=l=>{var b;m({password:l==null?void 0:l.password,email:(b=s==null?void 0:s.query)==null?void 0:b.email},{onSuccess(){r(),S.show({title:"Notification",message:"Your profile has been created"}),c(te)},onError(H){S.show({title:"Notification",message:ne(H)})}})};return a.jsxs(a.Fragment,{children:[a.jsx(G,{opened:e,radius:34,centered:!0,size:"495px",onClose:t,withCloseButton:!1,closeOnClickOutside:!1,transitionProps:{duration:500,timingFunction:"ease"},children:a.jsx(he,{})}),a.jsx(Q,{children:a.jsx("div",{className:"flex justify-center  rounded-[50px] w-[550px]  py-[30px] bg-white ",children:a.jsxs("div",{className:"inner-form-w mx-auto relative",children:[a.jsx("div",{className:"flex justify-center items-center mt-8 mb-12 ",children:a.jsx("img",{src:X,alt:"image",className:"w-[160px]"})}),a.jsxs("div",{className:" bg-red-[600] ",children:[a.jsxs("div",{className:"mb-2",children:[a.jsx("h1",{className:"font-bold fon header2 font-BalooSemiBold text-center",children:"Welcome "}),a.jsx("p",{className:"text2 text-[#A7A7A7]   font-ArimoRegular text-center mb-8",children:"Create a password for your Teacher account"})]}),a.jsx("div",{className:"",children:a.jsxs("form",{onSubmit:_(V),children:[a.jsx("div",{className:"mb-4",children:a.jsx(N,{type:"password",placeholder:"Create New Password",reg:j("password"),leftIcon:a.jsx("img",{loading:"lazy",src:C,alt:"pasword icon"}),rightIcon:a.jsx("img",{loading:"lazy",src:E,alt:"paswordeye icon"}),errorMsg:(w=p.password)==null?void 0:w.message})}),a.jsx("div",{className:"mb-4",children:a.jsx(N,{type:"password",placeholder:"Confirm Password",reg:j("confirmPassword"),leftIcon:a.jsx("img",{loading:"lazy",src:C,alt:"pasword icon"}),rightIcon:a.jsx("img",{loading:"lazy",src:E,alt:"paswordeye icon"}),errorMsg:(F=p.confirmPassword)==null?void 0:F.message})}),a.jsx("div",{className:"my-10",children:a.jsxs(P,{type:"submit",backgroundColor:"green",children:[" ",o?a.jsx("p",{className:"flex justify-center items-center",children:a.jsx(Z,{color:"white",size:"sm"})}):a.jsx("span",{children:"Continue "})]})})]})})]})]})})})]})},he=()=>{const e=v();return a.jsx("div",{className:"w-full h-full flex justify-center items-center py-4",children:a.jsx("div",{className:"inner-form-w2 mx-auto relative",children:a.jsx("div",{className:"w-[100%]  my-auto ",children:a.jsxs("div",{children:[a.jsx("div",{className:" flex justify-center items-center",children:a.jsx("img",{src:ee,alt:"",className:""})}),a.jsxs("div",{className:" mt-4 mb-2",children:[a.jsx("h1",{className:"  font-semibold header2 font-BalooSemiBold my-4 text-center",children:"Congratulations"}),a.jsx("p",{className:"text2 text-[#A7A7A7] text-center mb-4 font-Hanken",children:"Your profile has been updated"})]}),a.jsx(P,{onClick:()=>e("/login"),size:"full",className:"text2 px-[50px]  rounded-full",backgroundColor:"green",children:"Continue"})]})})})})};export{he as CongratulationsModal,pe as default};
