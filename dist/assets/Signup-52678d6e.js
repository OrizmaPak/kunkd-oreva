import{j as e,a as I,g as T,f as M,r as U,ak as W,a5 as q,K as D,ad as F,B as N,al as K,am as $,an as H,X as r,x as C,J as p,M as g,ao as J,ap as O,P as X}from"./index-7fa67d35.js";import{F as Y}from"./index.esm-8a91186a.js";import{C as L}from"./index.esm-9f214563.js";const Q=({title:h,body:u,icon:m,image:j,onClick:x,clicked:f,id:b,setUserId:y,userId:v})=>{const _=()=>{x(),y(b)};return console.log(v),e.jsxs("div",{onClick:_,className:`relative border-[2px] flex gap-4  transition-all duration-300 rounded-3xl py-3 my-3  pad-x-10 cursor-pointer   ${f?"border-[2px] border-customGreen ":"border-[#F9F5FC]"}`,children:[e.jsxs("div",{className:"relative w-[250px]",children:[e.jsx("img",{src:j,alt:"images",className:"rounded-2xl"}),e.jsx("span",{className:"flex items-end justify-center absolute left-[10px] top-[10px]",children:m})]}),e.jsx("p",{className:"flex items-center text-start justify-between ",children:e.jsxs("div",{className:"flex-1",children:[e.jsx("h1",{className:"font-BalooSemiBold  text1 ",children:h}),e.jsx("p",{className:"font-ArimoRegular text-[#A7A7A7] text3",children:u})]})})]})},Z="/assets/School Icon-8e406ec0.png",V="/assets/Parents Icon-ddaa5f23.png",ee=[{title:"I'm a school",to:"schoolsignup",desc:"I want to manage my school's access to this platform",id:1,image:Z},{title:"I'm a Parent",desc:"I want to manage my child's access to this platform",to:"parentsignup",id:2,image:V}],te=()=>{const[,h]=I(T),u=M(),[m,j]=U.useState(""),{mutate:x}=W(),[f,,]=I(q),[b,y]=U.useState(0),v=()=>{},_=new Date,R=_.getFullYear(),k=_.getMonth()+1,w=_.getDate(),S=R+"-"+(k<10?"0"+k:k)+"-"+(w<10?"0"+w:w);function z(s){return s.length===1?s[0]:s.find(l=>l.providerId==="google.com")}const B=async()=>{var s,c,l;try{const n=await H(),d=z((s=n.user)==null?void 0:s.providerData),i=((l=(c=n==null?void 0:n.user)==null?void 0:c.displayName)==null?void 0:l.split(" "))??"";x({provider:"google",id:d==null?void 0:d.uid,name:n.user.displayName,email:n.user.email,phoneNumber:n.user.phoneNumber,photoURL:n.user.photoURL,fcmToken:f,first_name:i[0],last_name:i[1]},{onSuccess(t){var o;const a=(o=t==null?void 0:t.data)==null?void 0:o.data;r.add_unique_user_id(a==null?void 0:a.user_id),r.add_first_name(a==null?void 0:a.firstname),r.add_last_name(a==null?void 0:a.lastname),r.add_email(a==null?void 0:a.email),r.add_mobile(a==null?void 0:a.phoneNumber),C("web_parent_login",{user_id:a==null?void 0:a.user_id,login_platform:"web",subscription_status:a==null?void 0:a.status,login_date:S,login_method:"google"}),h({...a}),u("/packages")},onError(t){p.show({title:"Notification",message:g(t)})}})}catch(n){p.show({title:"Notification",message:g(n)})}};function E(s){return s.length===1?s[0]:s.find(l=>l.providerId==="apple.com")}const G=async()=>{var s,c;try{const l=await J(),n=E((s=l.user)==null?void 0:s.providerData),d=((c=n==null?void 0:n.displayName)==null?void 0:c.split(" "))??"";x({provider:"apple",id:n==null?void 0:n.uid,name:l.user.displayName,email:l.user.email,phoneNumber:l.user.phoneNumber,photoURL:l.user.photoURL,fcmToken:f,first_name:d[0],last_name:d[1]},{onSuccess(i){var a;const t=(a=i==null?void 0:i.data)==null?void 0:a.data;r.add_unique_user_id(t==null?void 0:t.user_id),r.add_first_name(t==null?void 0:t.firstname),r.add_last_name(t==null?void 0:t.lastname),r.add_email(t==null?void 0:t.email),r.add_mobile(t==null?void 0:t.phoneNumber),C("web_parent_login",{user_id:t==null?void 0:t.user_id,login_platform:"web",subscription_status:t==null?void 0:t.status,login_date:S,login_method:"apple"}),h({...t}),u("/packages")},onError(i){p.show({title:"Notification",message:g(i)})}})}catch(l){p.show({title:"Notification",message:g(l)})}},P=async()=>{var s,c,l,n,d;try{const i=await O(),t=((c=(s=i==null?void 0:i.user)==null?void 0:s.displayName)==null?void 0:c.split(" "))??"";x({provider:"facebook",id:(d=(n=(l=i.user)==null?void 0:l.providerData)==null?void 0:n[0])==null?void 0:d.uid,name:i.user.displayName,email:i.user.email,phoneNumber:i.user.phoneNumber,photoURL:i.user.photoURL,fcmToken:f,first_name:t[0],last_name:t[1]},{onSuccess(a){var A;const o=(A=a==null?void 0:a.data)==null?void 0:A.data;r.add_unique_user_id(o==null?void 0:o.user_id),r.add_first_name(o==null?void 0:o.firstname),r.add_last_name(o==null?void 0:o.lastname),r.add_email(o==null?void 0:o.email),r.add_mobile(o==null?void 0:o.phoneNumber),C("web_parent_login",{user_id:o==null?void 0:o.user_id,login_platform:"web",subscription_status:o==null?void 0:o.status,login_date:S,login_method:"FB"}),h({...o}),u("/packages")},onError(a){p.show({title:"Notification",message:g(a)})}})}catch(i){p.show({title:"Notification",message:g(i)})}};return e.jsx("div",{className:"flex justify-center relative bg-white rounded-[50px] w-[550px] overflow-auto",children:e.jsxs("div",{className:"inner-form-w mx-auto relative overflow-auto ",style:{maxHeight:"100vh",scrollbarWidth:"none"},children:[e.jsx("style",{children:`
              .inner-form-w::-webkit-scrollbar {
                display: none;
              }
            `}),e.jsx("div",{className:"flex justify-center items-center mt-4 mb-8",children:e.jsx("img",{src:D,alt:"image",className:"w-[160px]"})}),e.jsxs("div",{className:"w-[100%]",children:[e.jsx("p",{className:"font-bold text-[48px] font-BalooSemiBold text-center tracking-n leading-[40px]",children:"Get Started"}),e.jsx("p",{className:"text3 text-[#A7A7A7] font-ArimoRegular text-center leading-none",children:"Let's create account that fits you!"}),e.jsxs("div",{className:"my-8",children:[ee.map(s=>e.jsx(Q,{clicked:m===s.to,title:s.title,body:s.desc,image:s==null?void 0:s.image,id:s.id,userId:b,setUserId:y,onClick:()=>j(s.to),icon:m===s.to?e.jsx(L,{size:25,color:"#9FC43E"}):e.jsx(L,{size:25,color:"white"})},s.to)),e.jsx("div",{className:"mt-5 flex justify-center items-center",children:e.jsx(F,{to:m,children:e.jsx(F,{to:`/${m||"signup"}`,children:e.jsx(N,{onClick:v,size:"sm",backgroundColor:m?"green":"grey",className:"rounded-full px-[60px]",disable:!m,children:"Get started"})})})})]}),b===2?e.jsxs("div",{className:"flex gap-8 my-4",children:[e.jsx(N,{onClick:B,size:"full",varient:"outlined",borderColor:"green",children:e.jsx(Y,{size:20,className:" mx-auto"})}),e.jsx(N,{onClick:G,size:"full",varient:"outlined",borderColor:"green",children:e.jsx(K,{size:20,className:" mx-auto",color:"black"})}),e.jsx(N,{onClick:P,size:"full",varient:"outlined",borderColor:"green",children:e.jsx($,{size:20,className:" mx-auto",color:"black"})})]}):null,e.jsxs("p",{className:"text-gray-400 text-center pb-5",children:[e.jsx("span",{children:"Already signed up? "}),e.jsx("button",{onClick:()=>u("/login"),className:"text-customGreen font-bold",children:"Login"})]})]})]})})},ne=()=>e.jsx(X,{children:e.jsx(te,{})});export{ne as default};
