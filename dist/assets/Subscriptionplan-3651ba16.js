import{b7 as z,a as A,g as E,f as _,t as L,c8 as $,r as U,j as s,aq as Y,B as G,L as I,X as J,J as N,M as R}from"./index-7fa67d35.js";const T="/assets/colorArrowDown-0743405c.svg",V="/assets/colorArrowup-ef4831e1.svg",q="/assets/starr-6d5abb9f.svg";function X(n){return z({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"m18.988 2.012 3 3L19.701 7.3l-3-3zM8 16h3l7.287-7.287-3-3L8 13z"}},{tag:"path",attr:{d:"M19 19H8.158c-.026 0-.053.01-.079.01-.033 0-.066-.009-.1-.01H5V5h6.847l2-2H5c-1.103 0-2 .896-2 2v14c0 1.104.897 2 2 2h14a2 2 0 0 0 2-2v-8.668l-2 2V19z"}}]})(n)}const Q=()=>{var p,m,h,f,u,j,g;const[n]=A(E),t=_(),{data:r}=L(),{mutate:v,isLoading:y}=$(),C=(p=r==null?void 0:r.data)==null?void 0:p.data,[x,w]=U.useState(!1),S=sessionStorage.getItem("user"),e=JSON.parse(S);function l(a){return a<10?"0"+a:a}const i=new Date,F=i.getHours(),k=i.getMinutes(),B=i.getSeconds(),H=l(F)+":"+l(k)+":"+l(B),c=new Date,M=c.getFullYear(),o=c.getMonth()+1,d=c.getDate(),D=M+"-"+(o<10?"0"+o:o)+"-"+(d<10?"0"+d:d),P=()=>{v("data",{onSuccess(a){J.track_event("web_subscription_cancelled",{user_id:n==null?void 0:n.user_id,date:D,time:H}),N.show({title:"Notification",message:a.data.message})},onError(a){N.show({title:"Notification",message:R(a)})}})};return s.jsx(Y.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:1},children:s.jsxs("div",{className:"px-4 ",children:[s.jsx("h1",{className:"text-[24px]  font-medium font-Hanken my-8",children:"Subscription Plan"}),((m=e==null?void 0:e.subscription)==null?void 0:m.status)===!1?s.jsxs("div",{children:[s.jsx("div",{className:"px-6 border-[3px] border-[#FBECFF]  py-10 rounded-3xl my-8 ",children:s.jsxs("div",{className:"grid grid-cols-[1fr_1fr_300px]",children:[s.jsxs("p",{className:"flex flex-col",children:[s.jsx("span",{className:"text-[#B5B5C3] text-[16px] font-Hanken",children:"Plan"}),s.jsx("span",{className:"font-bold text25 font-Hanken",children:"Basic"})]}),s.jsxs("p",{className:"flex flex-col",children:[s.jsx("span",{className:"text-[#B5B5C3] text-[16px] font-Hanken",children:"Payment"}),s.jsx("span",{className:"font-bold text25 font-Hanken",children:"Free"})]}),s.jsx("p",{className:"flex justify-center items-center py-2",children:s.jsx(G,{onClick:()=>t("/packages"),size:"md",children:s.jsxs("p",{className:"flex gap-3 items-center",children:[s.jsx("img",{loading:"lazy",src:q,alt:"starr"}),s.jsx("span",{className:"text-[14px] font-Hanken",children:"Upgrade Plan"})]})})})]})}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("span",{onClick:()=>w(a=>!a),className:"flex gap-2 cursor-pointer text-[16px] font-Hanken",children:["See avalaible plan",s.jsx("img",{loading:"lazy",src:x?V:T,alt:"arrow"})]}),s.jsx("hr",{className:"flex-grow"})]}),x&&s.jsxs("div",{className:"flex  gap-20",children:[s.jsx(b,{duration:12,amount:59.88,recommended:!0}),s.jsx(b,{duration:1,amount:4.99})]})]})]}):s.jsxs("div",{children:[s.jsx("div",{className:"flex justify-end ",children:s.jsx("button",{onClick:P,className:"p-3 border-[#FDA29B] border-[2px] rounded text-[#B42318] text2",children:y?s.jsx("p",{className:"flex justify-center items-center",children:s.jsx(I,{color:"red",size:"sm"})}):s.jsx("span",{children:"Cancel Subscription"})})}),s.jsxs("div",{className:"border-[2px] border-[#FBECFF]  py-10 rounded-3xl my-8 ",children:[s.jsxs("div",{className:"flex justify-between  px-3",children:[s.jsx("p",{children:s.jsxs("button",{className:" p-2  flex item-center justisfy-center gap-2 rounded",children:[" ",s.jsxs("span",{className:"font-semibold",children:[((h=e==null?void 0:e.subscription)==null?void 0:h.plan.charAt(0).toUpperCase())+((f=e==null?void 0:e.subscription)==null?void 0:f.plan.slice(1))," ","Plan"," "]})," "]})}),s.jsx("p",{children:s.jsxs("button",{disabled:(u=e==null?void 0:e.subscription)==null?void 0:u.status,onClick:()=>t("/packages"),className:"bg-[#F3DAFF] p-2 text-[#8530C1] flex item-center justisfy-center gap-2 rounded",children:[" ",s.jsx(X,{size:20,color:"#8530C1"}),s.jsx("span",{children:"change plan"})," "]})})]}),s.jsx("hr",{className:"border-[2px] border-[#FBECFF]  my-2 "}),s.jsx("div",{className:"px-3",children:C&&s.jsxs("p",{children:[s.jsxs("span",{className:"text25",children:[(j=e==null?void 0:e.subscription)==null?void 0:j.amount," "]})," ","per"," ",((g=e==null?void 0:e.subscription)==null?void 0:g.plan)==="standard"?"Month":"Year"]})})]})]})]})})},b=({amount:n,duration:t,recommended:r})=>s.jsxs("div",{className:"border-4 border-[#8530C1] text-[#8530C1] p-8 flex-grow rounded-3xl mt-10 relative flex items-center  h-36",children:[r&&s.jsx("span",{className:"absolute text2 top-[-2px] text-white bg-[#8530C1] px-6 py-2  left-[-3px] rounded-tl-3xl  rounded-br-3xl",children:"Recommended"}),s.jsxs("div",{className:"flex  justify-between w-full ",children:[s.jsx("h1",{className:"text25 font-bold ",children:t&&t>1?`${t} Months`:`${t} Month`}),s.jsxs("h1",{className:"text-[23px] ",children:["$",t&&t>1?`${n}/Y`:`${n}/M`]})]})]});export{Q as default};
